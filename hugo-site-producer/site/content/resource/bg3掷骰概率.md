---
title: "bg3掷骰概率"
date: 2025-09-02T09:50:08+08:00
draft: false
tags: ["resource"]
toc: true
showTableOfContents: true
---

## 问题1：DC21检定优势骰（2次掷骰）不通过概率
根据D20骰子的投掷规则：
- 投掷1时，最终结果为1，总是小于21点。
- 投掷20时，最终结果为正无穷，总是大于或等于21点，因此不计入小于21点的概率。
- 投掷2到19时，最终结果为投掷点数加上加值G，其中G = 1D6 + 3D4 + 13。

加值G的概率分布经计算如下：
- G的取值范围为17到31。
- P(G=17) = 1/384
- P(G=18) = 4/384
- 其他G值的概率不影响本次计算。

最终结果F小于21点的概率取决于D20投掷结果R：
- 当R=1时，P(F<21) = 1。
- 当R=2时，需要G ≤ 18，P(G≤18) = P(G=17) + P(G=18) = 1/384 + 4/384 = 5/384。
- 当R=3时，需要G ≤ 17，P(G≤17) = P(G=17) = 1/384。
- 当R=4到20时，P(F<21) = 0。

由于D20每个面概率均为1/20，单次投掷概率为：
P(F<21) = <sup>1</sup>/<sub>20</sub>(1+<sup>5</sup>/<sub>384</sub>+<sup>1</sup>/<sub>384</sub>) = <sup>13</sup>/<sub>256</sub>

因此，两次掷骰结果小于21点的概率为
(<sup>13</sup>/<sub>256</sub>)<sup>2</sup>=0.002578735

## 问题2：10次掷骰DC20检定不通过概率
描述：D20骰子投掷10次，每次投掷的最终结果严格小于20点的概率。最终结果取决于D20的投掷点数R和加值G，其中G是两次D4投掷的和加上6。

### 问题分析
我们需要计算D20骰子投掷10次，每次投掷的最终结果严格小于20点的概率。最终结果取决于D20的投掷结果（R）和加值（G），其中加值G由两次D4骰子投掷和加上6得到。

### 加值G的概率分布
G = (D4 + D4) + 6，因此G的取值范围是8到14。两次D4投掷和的概率分布如下：
- G = 8: 概率 1/16
- G = 9: 概率 2/16
- G = 10: 概率 3/16
- G = 11: 概率 4/16
- G = 12: 概率 3/16
- G = 13: 概率 2/16
- G = 14: 概率 1/16

### 单次投掷最终结果F < 20的概率
最终结果F取决于D20的投掷结果R：
- 如果 R=1，则 F=1，总是小于20，概率为1。
- 如果 R=20，则 F=∞，总是大于或等于20，概率为0。
- 如果 2≤R≤19，则 F=R+G，需要 R+G < 20。

对于每个R，计算条件概率 P(F < 20 | R)：
- R=1: P=1
- R=2: F=2+G<20 ⇒ G<18 ⇒ G≤17（总是成立），P=1
- R=3: F=3+G<20 ⇒ G<17 ⇒ G≤16（总是成立），P=1
- R=4: F=4+G<20 ⇒ G<16 ⇒ G≤15（总是成立），P=1
- R=5: F=5+G<20 ⇒ G<15 ⇒ G≤14（总是成立），P=1
- R=6: F=6+G<20 ⇒ G<14 ⇒ G≤13，P(G≤13)=15/16
- R=7: F=7+G<20 ⇒ G<13 ⇒ G≤12，P(G≤12)=13/16
- R=8: F=8+G<20 ⇒ G<12 ⇒ G≤11，P(G≤11)=10/16=5/8
- R=9: F=9+G<20 ⇒ G<11 ⇒ G≤10，P(G≤10)=6/16=3/8
- R=10: F=10+G<20 ⇒ G<10 ⇒ G≤9，P(G≤9)=3/16
- R=11: F=11+G<20 ⇒ G<9 ⇒ G≤8，P(G≤8)=1/16
- R=12 to 20: F≥12+G≥12+8=20，总是大于或等于20，P=0

单次投掷概率 P(F < 20) 是以上条件概率的平均值（每个R的概率为1/20）：
P_one = <sup>1</sup>/<sub>20</sub>(1+1+1+1+1+<sup>15</sup>/<sub>16</sub>+<sup>13</sup>/<sub>16</sub>+<sup>10</sup>/<sub>16</sub>+<sup>6</sup>/<sub>16</sub>+<sup>3</sup>/<sub>16</sub>+<sup>1</sup>/<sub>16</sub>+0+⋯+0)
求和部分：求和部分：R=1到5贡献5，R=6到11贡献<sup>15+13+10+6+3+1</sup>/<sub>16</sub>=3，总和为8。
P_one = <sup>8</sup>/<sub>20</sub> = <sup>2</sup>/<sub>5</sub>

### 10次投掷概率
由于每次投掷独立，10次投掷全部结果小于20点的概率为：(<sup>2</sup>/<sub>5</sub>)^10=0.000104858

