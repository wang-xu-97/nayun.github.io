---
title: "自定义类"
date: 2026-02-28T16:48:27+08:00
draft: false
tags: ["技"]
toc: true
showTableOfContents: true
---

## 自定义飞书块类
```python
class block:
    '''一个block为一行

        :param content:
            str:{content:None}
            dict:{content:style}
        :param blocktype:
            2：文本 Block
            3：标题 1 Block
            4：标题 2 Block
            5：标题 3 Block
            6：标题 4 Block
            7：标题 5 Block
            8：标题 6 Block
            13：有序列表 Block
            27：image Block
            ...
            参考:https://open.feishu.cn/document/server-docs/docs/docs/docx-v1/document-block/create#1b8abd5d
        :param indent:
            首行缩进级别。仅支持对 Text 块进行修改，其余类型不生效。
            示例值："NoIndent"
            可选值有：
                NoIndent：无缩进
                OneLevelIndent：一级缩进

        :param align:
            对齐方式
            1：居左排版
            2：居中排版
            3：居右排版
            默认值：1

        :param background_color
            LightGrayBackground：浅灰色
            LightRedBackground：浅红色
            LightOrangeBackground：浅橙色
            LightYellowBackground：浅黄色
            LightGreenBackground：浅绿色
            LightBlueBackground：浅蓝色
            LightPurpleBackground：浅紫色
            PaleGrayBackground：中灰色
            DarkGrayBackground：灰色
            DarkRedBackground：中红色
            DarkOrangeBackground：中橙色
            DarkYellowBackground：中黄色
            DarkGreenBackground：中绿色
            DarkBlueBackground：中蓝色
            DarkPurpleBackground：中紫色
    '''
    class Content:
        '''
        Text Content自定义样式支持：
            bold
                示例值：true
                默认值：false

            italic
                示例值：true
                默认值：false

            strikethrough 删除线
                示例值：true
                默认值：false

            underline 下划线
                示例值：true
                默认值：false

            inline_code inline代码
                示例值：true
                默认值：false

            background_color 背景色
                可选值有：
                1：浅红色
                2：浅橙色
                3：浅黄色
                4：浅绿色
                5：浅蓝色
                6：浅紫色
                7：中灰色
                8：红色
                9：橙色
                10：黄色
                11：绿色
                12：蓝色
                13：紫色
                14：灰色
                15：浅灰色

            text_color 字体颜色
                可选值有：
                1：红色
                2：橙色
                3：黄色
                4：绿色
                5：蓝色

            link 链接
                url 超链接指向的 url (需要 url_encode)
                    示例值："https%3A%2F%2Fopen.feishu.cn%2F"
        '''
        def __init__(self, content) -> None:
            if isinstance(content, dict):
                self.contents = {
                    c:style
                    for c, style in content.items()
                }
            else:
                self.contents = {str(content):{}}
        
        def __iter__(self):
            return iter(self.contents.items())
        
        def __contains__(self, k):
            return k in self.contents

    def __init__(self, content, blocktype=2, indent='NoIndent', align=1, background_color=None) -> None:
        self.type = blocktype
        self.indent = indent
        self.align = align
        self.background_color = background_color
        self.content = None
        if blocktype != 27 and content!= None:
            self.content = self.Content(content)
    
    __doc__ = __doc__ + Content.__doc__

```

## 自定义飞书请求异常类
```python
class LarkException(Exception):
    def __init__(self, code=0, msg=None):
        self.code = code
        self.msg = msg

    def __str__(self) -> str:
        return "{}:{}".format(self.code, self.msg)

    __repr__ = __str__
```







