<!doctype html>
<html
  lang="zh-cn"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"><head><script src="/nayun.github.io/livereload.js?mindelay=10&amp;v=2&amp;port=43997&amp;path=nayun.github.io/livereload" data-no-instant defer></script>
    
    <link type="text/css" rel="stylesheet" href="/nayun.github.io/css/TagCloudbtn.css">
    
    <link type="text/css" rel="stylesheet" href="/nayun.github.io/css/_custom-markdown.css">
    
    <link type="text/css" rel="stylesheet" href="/nayun.github.io/css/custom_all_list.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Inter&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <meta charset="utf-8" />
    
    <meta http-equiv="content-language" content="zh-cn" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    
    <title>æ€§èƒ½ä¼˜åŒ– &middot; nayun blog</title>
    <meta name="title" content="æ€§èƒ½ä¼˜åŒ– &middot; nayun blog" />
    
    
    <meta name="keywords" content="æŠ€, " />
    
    
    <link rel="canonical" href="http://localhost:43997/nayun.github.io/tech/coding/golang/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" />
    
    
    
    
    
    
    
    
    
    
    
    
    <link type="text/css" rel="stylesheet" href="/nayun.github.io/css/main.bundle.min.d5a4ea2c0a3cbf732f5d6f318d3bdb41fcd70d1bb1d18108c9aac83e0aace72a357e93fce51f3c7743f2b4f6bbdd7c119e820c2acdb47aa6951f48f14cace2c8.css"
      integrity="sha512-1aTqLAo8v3MvXW8xjTvbQfzXDRux0YEIyarIPgqs5yo1fpP85R88d0PytPa73XwRnoIMKs20eqaVH0jxTKziyA==" />
    
    
    <script type="text/javascript" src="/nayun.github.io/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
      integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
    
    
    
    
    
    
    
    
    
    
    
    <script defer type="text/javascript" id="script-bundle" src="/nayun.github.io/js/main.bundle.min.54688f522dbd435cd17577667367d50a06517a06f4b40b8c2f04d9e61afcb5f1b807ce42dfbe1f0d7979b2430f4e253cf548907cf81ab2f7efb0d66e57933d16.js"
      integrity="sha512-VGiPUi29Q1zRdXdmc2fVCgZRegb0tAuMLwTZ5hr8tfG4B85C374fDXl5skMPTiU89UiQfPgasvfvsNZuV5M9Fg==" data-copy="å¤åˆ¶" data-copied="å·²å¤åˆ¶"></script>
    
    
    
    <script src="/nayun.github.io/lib/zoom/zoom.min.f592a181a15d2a5b042daa7f746c3721acf9063f8b6acd175d989129865a37d400ae0e85b640f9ad42cd98d1f8ad30931718cf8811abdcc5fcb264400d1a2b0c.js" integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj&#43;Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="></script>
    
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/nayun.github.io/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/nayun.github.io/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/nayun.github.io/favicon-16x16.png" />
    <link rel="manifest" href="/nayun.github.io/site.webmanifest" />
    
    
    
    
    
    
    
    
    <meta property="og:url" content="http://localhost:43997/nayun.github.io/tech/coding/golang/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">
  <meta property="og:site_name" content="nayun blog">
  <meta property="og:title" content="æ€§èƒ½ä¼˜åŒ–">
  <meta property="og:description" content="ğŸ“Š æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ # &lt;/&gt; text å¤åˆ¶ 1â”Œâ”€ ä»£ç å±‚é¢ä¼˜åŒ– 2â”‚ â”œâ”€ å†…å­˜ä¼˜åŒ– 3â”‚ â”œâ”€ å¹¶å‘ä¼˜åŒ– 4â”‚ â”œâ”€ ç®—æ³•ä¼˜åŒ– 5â”‚ â””â”€ ç¼–è¯‘å™¨ä¼˜åŒ– 6â”‚ 7â”œâ”€ è¿è¡Œæ—¶ä¼˜åŒ– 8â”‚ â”œâ”€ GC ä¼˜åŒ– 9â”‚ â”œâ”€ è°ƒåº¦ä¼˜åŒ– 10â”‚ â””â”€ å†…å­˜ç®¡ç† 11â”‚ 12â”œâ”€ I/O ä¼˜åŒ– 13â”‚ â”œâ”€ ç½‘ç»œä¼˜åŒ– 14â”‚ â”œâ”€ æ–‡ä»¶ç³»ç»Ÿä¼˜åŒ– 15â”‚ â””â”€ æ•°æ®åº“ä¼˜åŒ– 16â”‚ 17â””â”€ ç³»ç»Ÿå±‚é¢ä¼˜åŒ– 18 â”œâ”€ éƒ¨ç½²ä¼˜åŒ– 19 â”œâ”€ ç›‘æ§ä¼˜åŒ– 20 â””â”€ ç¡¬ä»¶ä¼˜åŒ– ğŸ”§ è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯ # ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ï¼ˆé‡ç‚¹ï¼ï¼‰ # 1. å‡å°‘å†…å­˜åˆ†é… # &lt;/&gt; go å¤åˆ¶ 1// âŒ é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹åˆ†é… 2for i := 0; i &lt; 1000; i&#43;&#43; { 3 data := make([]byte, 1024) // æ¯æ¬¡å¾ªç¯éƒ½åˆ†é… 4 // ä½¿ç”¨ data... 5} 6 7// âœ… é¢„åˆ†é…æˆ–å¤ç”¨ 8buffer := make([]byte, 1024) 9for i := 0; i &lt; 1000; i&#43;&#43; { 10 // å¤ç”¨ buffer 11} 2. ä½¿ç”¨å¯¹è±¡æ±  sync.Pool # &lt;/&gt; go å¤åˆ¶ 1var bufferPool = sync.Pool{ 2 New: func() interface{} { 3 return bytes.NewBuffer(make([]byte, 0, 1024)) 4 }, 5} 6 7func getBuffer() *bytes.Buffer { 8 return bufferPool.Get().(*bytes.Buffer) 9} 10 11func putBuffer(buf *bytes.Buffer) { 12 buf.Reset() 13 bufferPool.Put(buf) 14} 3. é¿å…å†…å­˜é€ƒé€¸ # &lt;/&gt; go å¤åˆ¶ 1// âŒ å¯èƒ½é€ƒé€¸åˆ°å † 2func newUser() *User { 3 return &amp;User{Name: &#34;John&#34;} // é€ƒé€¸åˆ°å † 4} 5 6// âœ… å¦‚æœå¯èƒ½ï¼Œè®©è°ƒç”¨æ–¹åˆ†é… 7func fillUser(u *User) { 8 u.Name = &#34;John&#34; 9} 4. ä½¿ç”¨æ ˆåˆ†é… # &lt;/&gt; go å¤åˆ¶ 1// å°å¯¹è±¡å°½é‡åœ¨æ ˆä¸Šåˆ†é… 2type Small struct { 3 a, b int32 4} 5 6// ç¼–è¯‘å™¨ä¼šä¼˜å…ˆåœ¨æ ˆä¸Šåˆ†é… 7func process() { 8 var s Small // æ ˆåˆ†é… 9 // ... 10} äºŒã€å¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ– # 1. æ§åˆ¶ Goroutine æ•°é‡ # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ— é™åˆ¶åˆ›å»º goroutine 2for _, task := range tasks { 3 go process(task) // å¯èƒ½åˆ›å»ºå¤ªå¤š goroutine 4} 5 6// âœ… ä½¿ç”¨ worker pool 7type WorkerPool struct { 8 workers int 9 tasks chan Task 10} 11 12func (wp *WorkerPool) Start() { 13 for i := 0; i &lt; wp.workers; i&#43;&#43; { 14 go wp.worker() 15 } 16} 2. å‡å°‘é”ç«äº‰ # &lt;/&gt; go å¤åˆ¶ 1// âŒ ç²—ç²’åº¦é” 2var mu sync.Mutex 3var data map[string]int 4 5func update(key string, value int) { 6 mu.Lock() 7 data[key] = value 8 mu.Unlock() 9} 10 11// âœ… ç»†ç²’åº¦é”æˆ–åˆ†ç‰‡é” 12type ShardedMap struct { 13 shards []map[string]int 14 locks []sync.RWMutex 15} 16 17func (sm *ShardedMap) getShard(key string) int { 18 return int(fnv32(key)) % len(sm.shards) 19} 3. ä½¿ç”¨ atomic æ“ä½œ # &lt;/&gt; go å¤åˆ¶ 1// âŒ ä½¿ç”¨é”ä¿æŠ¤è®¡æ•°å™¨ 2var count int 3var mu sync.Mutex 4 5func increment() { 6 mu.Lock() 7 count&#43;&#43; 8 mu.Unlock() 9} 10 11// âœ… ä½¿ç”¨ atomic 12var count int64 13 14func increment() { 15 atomic.AddInt64(&amp;count, 1) 16} 4. åˆ©ç”¨ CPU ç¼“å­˜è¡Œ # &lt;/&gt; go å¤åˆ¶ 1// âŒ ä¼ªå…±äº«é—®é¢˜ 2type Data struct { 3 a int64 4 b int64 // å¯èƒ½åœ¨åŒä¸€ç¼“å­˜è¡Œ 5} 6 7// âœ… ç¼“å­˜è¡Œå¯¹é½ 8type Data struct { 9 a int64 10 _ [56]byte // å¡«å……ï¼Œç¡®ä¿åœ¨ä¸åŒç¼“å­˜è¡Œ 11 b int64 12} ä¸‰ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ– # 1. é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ # &lt;/&gt; go å¤åˆ¶ 1// æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹© 2- æŸ¥æ‰¾é¢‘ç¹ â†’ map 3- æœ‰åºæ•°æ® â†’ slice &#43; äºŒåˆ†æŸ¥æ‰¾ 4- é¢‘ç¹æ’å…¥åˆ é™¤ â†’ linked list 5- å”¯ä¸€æ€§æ£€æŸ¥ â†’ map æˆ– bitset 2. é¢„åˆ†é…å®¹é‡ # &lt;/&gt; go å¤åˆ¶ 1// âŒ åŠ¨æ€æ‰©å®¹ 2var users []User 3for i := 0; i &lt; 10000; i&#43;&#43; { 4 users = append(users, User{}) // å¤šæ¬¡æ‰©å®¹ 5} 6 7// âœ… é¢„åˆ†é… 8users := make([]User, 0, 10000) 9for i := 0; i &lt; 10000; i&#43;&#43; { 10 users = append(users, User{}) 11} 3. ä½¿ç”¨æ›´å¿«çš„ç®—æ³• # &lt;/&gt; go å¤åˆ¶ 1// âŒ O(nÂ²) 2for i := 0; i &lt; n; i&#43;&#43; { 3 for j := 0; j &lt; n; j&#43;&#43; { 4 // å¤„ç† 5 } 6} 7 8// âœ… O(n log n) æˆ– O(n) 9sort.Slice(data, func(i, j int) bool { 10 return data[i] &lt; data[j] 11}) 4. åˆ©ç”¨ä½è¿ç®— # &lt;/&gt; go å¤åˆ¶ 1// âŒ ä¹˜é™¤è¿ç®— 2x := a * 2 3y := b / 2 4 5// âœ… ä½è¿ç®— 6x := a &lt;&lt; 1 // ä¹˜ä»¥2 7y := b &gt;&gt; 1 // é™¤ä»¥2 å››ã€I/O æ€§èƒ½ä¼˜åŒ– # 1. æ‰¹é‡æ“ä½œ # &lt;/&gt; go å¤åˆ¶ 1// âŒ å•æ¡æ“ä½œ 2for _, user := range users { 3 db.Insert(user) 4} 5 6// âœ… æ‰¹é‡æ“ä½œ 7db.BulkInsert(users) 2. ç¼“å†² I/O # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ— ç¼“å†² 2file, _ := os.Open(&#34;data.txt&#34;) 3buf := make([]byte, 1) 4for { 5 n, err := file.Read(buf) 6 // ... 7} 8 9// âœ… å¸¦ç¼“å†² 10reader := bufio.NewReader(file) 11for { 12 line, err := reader.ReadString(&#39;\n&#39;) 13 // ... 14} 3. è¿æ¥å¤ç”¨ # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ¯æ¬¡åˆ›å»ºè¿æ¥ 2func query() { 3 db, _ := sql.Open(...) 4 defer db.Close() 5 // ... 6} 7 8// âœ… è¿æ¥æ±  9var db *sql.DB 10 11func init() { 12 db, _ = sql.Open(...) 13 db.SetMaxOpenConns(100) 14 db.SetMaxIdleConns(10) 15} 4. é›¶æ‹·è´æŠ€æœ¯ # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ•°æ®å¤åˆ¶ 2func process(data []byte) []byte { 3 result := make([]byte, len(data)) 4 copy(result, data) 5 // å¤„ç† 6 return result 7} 8 9// âœ… é¿å…å¤åˆ¶ 10func processInPlace(data []byte) { 11 // åŸåœ°å¤„ç† 12 for i := range data { 13 data[i] = data[i] &#43; 1 14 } 15} äº”ã€ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ– # 1. å†…è”ä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å†…è”å°å‡½æ•° 2// æ ‡è®°ä¸º //go:noinline å¯ä»¥é˜»æ­¢å†…è” 3func smallFunction(a, b int) int { 4 return a &#43; b // å¯èƒ½è¢«å†…è” 5} 6 7//go:noinline 8func largeFunction() { 9 // ä¸ä¼šè¢«å†…è” 10} 2. é€ƒé€¸åˆ†æä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// æŸ¥çœ‹é€ƒé€¸åˆ†æ 2go build -gcflags=&#34;-m -l&#34; 3 4// è¾“å‡ºä¼šæ˜¾ç¤ºå“ªäº›å˜é‡é€ƒé€¸åˆ°å † 3. ç¼–è¯‘å™¨æŒ‡ä»¤ # &lt;/&gt; go å¤åˆ¶ 1// è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤ 2func sum(arr []int) int { 3 s := 0 4 for i := range arr { 5 s &#43;= arr[i] // ç¼–è¯‘å™¨å¯èƒ½æ¶ˆé™¤è¾¹ç•Œæ£€æŸ¥ 6 } 7 return s 8} 9 10// ç¼–è¯‘æ—¶ç¦ç”¨è¾¹ç•Œæ£€æŸ¥ 11// go build -gcflags=&#34;-B&#34; 4. ä½¿ç”¨ PGOï¼ˆProfile-Guided Optimizationï¼‰ # &lt;/&gt; go å¤åˆ¶ 1// 1. æ”¶é›†æ€§èƒ½æ•°æ® 2go test -cpuprofile=cpu.prof -bench=. 3 4// 2. ä½¿ç”¨ PGO ç¼–è¯‘ 5go build -pgo=cpu.prof å…­ã€å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ– # 1. strings.Builder # &lt;/&gt; go å¤åˆ¶ 1// âŒ å­—ç¬¦ä¸²æ‹¼æ¥ 2var result string 3for i := 0; i &lt; 1000; i&#43;&#43; { 4 result &#43;= strconv.Itoa(i) 5} 6 7// âœ… ä½¿ç”¨ strings.Builder 8var builder strings.Builder 9for i := 0; i &lt; 1000; i&#43;&#43; { 10 builder.WriteString(strconv.Itoa(i)) 11} 12result := builder.String() 2. é¿å… []byte ä¸ string è½¬æ¢ # &lt;/&gt; go å¤åˆ¶ 1// âŒ é¢‘ç¹è½¬æ¢ 2func process(s string) { 3 b := []byte(s) // åˆ†é…æ–°å†…å­˜ 4 // å¤„ç† b 5 s2 := string(b) // å†æ¬¡åˆ†é… 6} 7 8// âœ… ç»Ÿä¸€ä½¿ç”¨ []byte 9func process(b []byte) []byte { 10 // åŸåœ°å¤„ç† 11 return b 12} 3. ä½¿ç”¨ bytes åŒ…ä»£æ›¿ strings åŒ… # &lt;/&gt; go å¤åˆ¶ 1// bytes åŒ…æ“ä½œ []byteï¼Œé¿å…è½¬æ¢ 2// âŒ 3s := &#34;hello&#34; 4s = strings.ToUpper(s) 5 6// âœ… 7b := []byte(&#34;hello&#34;) 8b = bytes.ToUpper(b) ä¸ƒã€ç½‘ç»œä¸åè®®ä¼˜åŒ– # 1. åè®®é€‰æ‹© # &lt;/&gt; go å¤åˆ¶ 1// æ ¹æ®åœºæ™¯é€‰æ‹©åè®® 2- REST/HTTP/1.1 â†’ ç®€å•ï¼Œå…¼å®¹æ€§å¥½ 3- HTTP/2 â†’ å¤šè·¯å¤ç”¨ï¼Œå¤´éƒ¨å‹ç¼© 4- gRPC â†’ é«˜æ€§èƒ½ï¼Œprotobuf ç¼–ç  5- WebSocket â†’ å®æ—¶åŒå‘é€šä¿¡ 2. è¿æ¥å¤ç”¨ï¼ˆHTTP/2, HTTP/3ï¼‰ # &lt;/&gt; go å¤åˆ¶ 1// é…ç½® HTTP å®¢æˆ·ç«¯ 2client := &amp;http.Client{ 3 Transport: &amp;http.Transport{ 4 MaxIdleConns: 100, 5 MaxIdleConnsPerHost: 10, 6 IdleConnTimeout: 90 * time.Second, 7 // å¯ç”¨ HTTP/2 8 ForceAttemptHTTP2: true, 9 }, 10} 3. å‹ç¼©ä¸åºåˆ—åŒ– # &lt;/&gt; go å¤åˆ¶ 1// é€‰æ‹©åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼ 2- JSON â†’ é€šç”¨ï¼Œå¯è¯»æ€§å¥½ 3- Protobuf â†’ é«˜æ•ˆï¼ŒäºŒè¿›åˆ¶ 4- MessagePack â†’ äºŒè¿›åˆ¶ JSON 5- FlatBuffers â†’ é›¶æ‹·è´åºåˆ—åŒ– 6 7// ä½¿ç”¨å‹ç¼© 8import &#34;compress/gzip&#34; å…«ã€æ•°æ®åº“ä¼˜åŒ– # 1. SQL ä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// âŒ N&#43;1 æŸ¥è¯¢ 2for _, user := range users { 3 db.Query(&#34;SELECT * FROM orders WHERE user_id = ?&#34;, user.ID) 4} 5 6// âœ… JOIN æˆ–æ‰¹é‡æŸ¥è¯¢ 7db.Query(` 8 SELECT u.*, o.* 9 FROM users u 10 LEFT JOIN orders o ON u.id = o.user_id 11`) 2. ç´¢å¼•ä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// æ·»åŠ åˆé€‚ç´¢å¼• 2CREATE INDEX idx_user_email ON users(email); 3CREATE INDEX idx_order_user_date ON orders(user_id, created_at); 3. è¿æ¥æ± é…ç½® # &lt;/&gt; go å¤åˆ¶ 1db.SetMaxOpenConns(100) // æœ€å¤§è¿æ¥æ•° 2db.SetMaxIdleConns(25) // æœ€å¤§ç©ºé—²è¿æ¥æ•° 3db.SetConnMaxLifetime(5 * time.Minute) // è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ ä¹ã€ç›‘æ§ä¸åˆ†æå·¥å…· # 1. ä½¿ç”¨ pprof # &lt;/&gt; go å¤åˆ¶ 1import _ &#34;net/http/pprof&#34; 2 3go func() { 4 http.ListenAndServe(&#34;:6060&#34;, nil) 5}() 6 7// æ”¶é›†æ•°æ® 8go tool pprof http://localhost:6060/debug/pprof/profile 9go tool pprof http://localhost:6060/debug/pprof/heap 2. ä½¿ç”¨ trace # &lt;/&gt; go å¤åˆ¶ 1import &#34;runtime/trace&#34; 2 3trace.Start(w) 4defer trace.Stop(w) 5 6// åˆ†æ 7go tool trace trace.out 3. ä½¿ç”¨ expvar # &lt;/&gt; go å¤åˆ¶ 1import &#34;expvar&#34; 2 3var ( 4 requestCount = expvar.NewInt(&#34;request_count&#34;) 5 avgLatency = expvar.NewFloat(&#34;avg_latency_ms&#34;) 6) 7 8func handler(w http.ResponseWriter, r *http.Request) { 9 start := time.Now() 10 // å¤„ç†è¯·æ±‚ 11 latency := time.Since(start).Milliseconds() 12 requestCount.Add(1) 13 // æ›´æ–°å¹³å‡å»¶è¿Ÿ... 14} åã€éƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ– # 1. å®¹å™¨ä¼˜åŒ– # &lt;/&gt; dockerfile å¤åˆ¶ 1# å¤šé˜¶æ®µæ„å»º 2FROM golang:1.21 AS builder 3WORKDIR /app 4COPY . . 5RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app . 6 7FROM alpine:latest 8COPY --from=builder /app/app . 9CMD [&#34;./app&#34;] 2. æ“ä½œç³»ç»Ÿä¼˜åŒ– # &lt;/&gt; bash å¤åˆ¶ 1# è°ƒæ•´ç³»ç»Ÿå‚æ•° 2sysctl -w net.core.somaxconn=65535 3sysctl -w net.ipv4.tcp_tw_reuse=1 4sysctl -w net.ipv4.ip_local_port_range=&#34;1024 65000&#34; 3. CPU äº²å’Œæ€§ # &lt;/&gt; go å¤åˆ¶ 1import &#34;runtime&#34; 2 3// è®¾ç½® GOMAXPROCS 4runtime.GOMAXPROCS(runtime.NumCPU()) 5 6// ä½¿ç”¨ taskset ç»‘å®š CPU 7// taskset -c 0-3 ./app ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§ # ä¼˜å…ˆçº§ 1ï¼šå½±å“æœ€å¤§çš„ä¼˜åŒ– # ç®—æ³•ä¼˜åŒ– - æ”¹å˜å¤æ‚åº¦ï¼ˆO(nÂ²) â†’ O(n log n)ï¼‰ å‡å°‘ä¸å¿…è¦çš„æ“ä½œ - é¿å…é‡å¤è®¡ç®— æ‰¹é‡å¤„ç† - å‡å°‘ I/O æ¬¡æ•° ä¼˜å…ˆçº§ 2ï¼šæ˜¾è‘—çš„ä¼˜åŒ– # å†…å­˜åˆ†é…ä¼˜åŒ– - å‡å°‘ GC å‹åŠ› å¹¶å‘ä¼˜åŒ– - åˆç†ä½¿ç”¨ goroutine å’Œé” æ•°æ®ç»“æ„ä¼˜åŒ– - é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ ä¼˜å…ˆçº§ 3ï¼šå¾®ä¼˜åŒ– # ç¼–è¯‘å™¨ä¼˜åŒ– - å†…è”ã€é€ƒé€¸åˆ†æ CPU ç¼“å­˜ä¼˜åŒ– - ç¼“å­˜è¡Œå¯¹é½ æŒ‡ä»¤çº§ä¼˜åŒ– - ä½è¿ç®—ç­‰ ğŸ¯ æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™ # æµ‹é‡ç¬¬ä¸€ - ä½¿ç”¨ pprof ç­‰å·¥å…·æ‰¾åˆ°ç“¶é¢ˆ 20/80 æ³•åˆ™ - ä¼˜åŒ– 20% çš„ä»£ç è·å¾— 80% çš„æ”¶ç›Š æ¸è¿›ä¼˜åŒ– - å…ˆåšç®€å•æœ‰æ•ˆçš„å¤§ä¼˜åŒ–ï¼Œå†åšå¤æ‚çš„å°ä¼˜åŒ– ä¿æŒå¯è¯»æ€§ - ä¸è¦ä¸ºäº†æ€§èƒ½ç‰ºç‰²ä»£ç å¯ç»´æŠ¤æ€§ è€ƒè™‘ ROI - è¯„ä¼°ä¼˜åŒ–æŠ•å…¥ä¸æ”¶ç›Šæ¯” ğŸ“š å®ç”¨æ£€æŸ¥æ¸…å• # &lt;/&gt; go å¤åˆ¶ 1// æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å• 2â–¡ 1. æ˜¯å¦æœ‰ä¸å¿…è¦çš„å†…å­˜åˆ†é…ï¼Ÿ 3â–¡ 2. æ˜¯å¦å¯ä»¥å¤ç”¨å¯¹è±¡ï¼ˆsync.Poolï¼‰ï¼Ÿ 4â–¡ 3. æ˜¯å¦æœ‰é”ç«äº‰ï¼Ÿ 5â–¡ 4. æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„å¹¶å‘æ¨¡å¼ï¼Ÿ 6â–¡ 5. ç®—æ³•å¤æ‚åº¦æ˜¯å¦å¯ä»¥é™ä½ï¼Ÿ 7â–¡ 6. æ˜¯å¦æœ‰é‡å¤è®¡ç®—ï¼Ÿ 8â–¡ 7. I/O æ“ä½œæ˜¯å¦å¯ä»¥æ‰¹é‡å¤„ç†ï¼Ÿ 9â–¡ 8. æ˜¯å¦ä½¿ç”¨äº†ç¼“å†² I/Oï¼Ÿ 10â–¡ 9. æ•°æ®åº“æŸ¥è¯¢æ˜¯å¦æœ‰ç´¢å¼•ï¼Ÿ 11â–¡ 10. æ˜¯å¦å¯ç”¨äº†è¿æ¥æ± ï¼Ÿ 12â–¡ 11. æ˜¯å¦é¿å…äº†ä¸å¿…è¦çš„ []byte/string è½¬æ¢ï¼Ÿ 13â–¡ 12. æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼ï¼Ÿ 14â–¡ 13. æ˜¯å¦ç›‘æ§äº†å…³é”®æŒ‡æ ‡ï¼Ÿ è®°ä½ï¼šè¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºã€‚åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦é€šè¿‡ profiling ç¡®å®šçœŸæ­£çš„æ€§èƒ½ç“¶é¢ˆï¼Œæœ‰é’ˆå¯¹æ€§çš„è¿›è¡Œä¼˜åŒ–ã€‚">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tech">
    <meta property="article:published_time" content="2026-01-26T15:44:49+08:00">
    <meta property="article:modified_time" content="2026-01-26T15:44:49+08:00">
    <meta property="article:tag" content="æŠ€">

    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="æ€§èƒ½ä¼˜åŒ–">
  <meta name="twitter:description" content="ğŸ“Š æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ # &lt;/&gt; text å¤åˆ¶ 1â”Œâ”€ ä»£ç å±‚é¢ä¼˜åŒ– 2â”‚ â”œâ”€ å†…å­˜ä¼˜åŒ– 3â”‚ â”œâ”€ å¹¶å‘ä¼˜åŒ– 4â”‚ â”œâ”€ ç®—æ³•ä¼˜åŒ– 5â”‚ â””â”€ ç¼–è¯‘å™¨ä¼˜åŒ– 6â”‚ 7â”œâ”€ è¿è¡Œæ—¶ä¼˜åŒ– 8â”‚ â”œâ”€ GC ä¼˜åŒ– 9â”‚ â”œâ”€ è°ƒåº¦ä¼˜åŒ– 10â”‚ â””â”€ å†…å­˜ç®¡ç† 11â”‚ 12â”œâ”€ I/O ä¼˜åŒ– 13â”‚ â”œâ”€ ç½‘ç»œä¼˜åŒ– 14â”‚ â”œâ”€ æ–‡ä»¶ç³»ç»Ÿä¼˜åŒ– 15â”‚ â””â”€ æ•°æ®åº“ä¼˜åŒ– 16â”‚ 17â””â”€ ç³»ç»Ÿå±‚é¢ä¼˜åŒ– 18 â”œâ”€ éƒ¨ç½²ä¼˜åŒ– 19 â”œâ”€ ç›‘æ§ä¼˜åŒ– 20 â””â”€ ç¡¬ä»¶ä¼˜åŒ– ğŸ”§ è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯ # ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ï¼ˆé‡ç‚¹ï¼ï¼‰ # 1. å‡å°‘å†…å­˜åˆ†é… # &lt;/&gt; go å¤åˆ¶ 1// âŒ é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹åˆ†é… 2for i := 0; i &lt; 1000; i&#43;&#43; { 3 data := make([]byte, 1024) // æ¯æ¬¡å¾ªç¯éƒ½åˆ†é… 4 // ä½¿ç”¨ data... 5} 6 7// âœ… é¢„åˆ†é…æˆ–å¤ç”¨ 8buffer := make([]byte, 1024) 9for i := 0; i &lt; 1000; i&#43;&#43; { 10 // å¤ç”¨ buffer 11} 2. ä½¿ç”¨å¯¹è±¡æ±  sync.Pool # &lt;/&gt; go å¤åˆ¶ 1var bufferPool = sync.Pool{ 2 New: func() interface{} { 3 return bytes.NewBuffer(make([]byte, 0, 1024)) 4 }, 5} 6 7func getBuffer() *bytes.Buffer { 8 return bufferPool.Get().(*bytes.Buffer) 9} 10 11func putBuffer(buf *bytes.Buffer) { 12 buf.Reset() 13 bufferPool.Put(buf) 14} 3. é¿å…å†…å­˜é€ƒé€¸ # &lt;/&gt; go å¤åˆ¶ 1// âŒ å¯èƒ½é€ƒé€¸åˆ°å † 2func newUser() *User { 3 return &amp;User{Name: &#34;John&#34;} // é€ƒé€¸åˆ°å † 4} 5 6// âœ… å¦‚æœå¯èƒ½ï¼Œè®©è°ƒç”¨æ–¹åˆ†é… 7func fillUser(u *User) { 8 u.Name = &#34;John&#34; 9} 4. ä½¿ç”¨æ ˆåˆ†é… # &lt;/&gt; go å¤åˆ¶ 1// å°å¯¹è±¡å°½é‡åœ¨æ ˆä¸Šåˆ†é… 2type Small struct { 3 a, b int32 4} 5 6// ç¼–è¯‘å™¨ä¼šä¼˜å…ˆåœ¨æ ˆä¸Šåˆ†é… 7func process() { 8 var s Small // æ ˆåˆ†é… 9 // ... 10} äºŒã€å¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ– # 1. æ§åˆ¶ Goroutine æ•°é‡ # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ— é™åˆ¶åˆ›å»º goroutine 2for _, task := range tasks { 3 go process(task) // å¯èƒ½åˆ›å»ºå¤ªå¤š goroutine 4} 5 6// âœ… ä½¿ç”¨ worker pool 7type WorkerPool struct { 8 workers int 9 tasks chan Task 10} 11 12func (wp *WorkerPool) Start() { 13 for i := 0; i &lt; wp.workers; i&#43;&#43; { 14 go wp.worker() 15 } 16} 2. å‡å°‘é”ç«äº‰ # &lt;/&gt; go å¤åˆ¶ 1// âŒ ç²—ç²’åº¦é” 2var mu sync.Mutex 3var data map[string]int 4 5func update(key string, value int) { 6 mu.Lock() 7 data[key] = value 8 mu.Unlock() 9} 10 11// âœ… ç»†ç²’åº¦é”æˆ–åˆ†ç‰‡é” 12type ShardedMap struct { 13 shards []map[string]int 14 locks []sync.RWMutex 15} 16 17func (sm *ShardedMap) getShard(key string) int { 18 return int(fnv32(key)) % len(sm.shards) 19} 3. ä½¿ç”¨ atomic æ“ä½œ # &lt;/&gt; go å¤åˆ¶ 1// âŒ ä½¿ç”¨é”ä¿æŠ¤è®¡æ•°å™¨ 2var count int 3var mu sync.Mutex 4 5func increment() { 6 mu.Lock() 7 count&#43;&#43; 8 mu.Unlock() 9} 10 11// âœ… ä½¿ç”¨ atomic 12var count int64 13 14func increment() { 15 atomic.AddInt64(&amp;count, 1) 16} 4. åˆ©ç”¨ CPU ç¼“å­˜è¡Œ # &lt;/&gt; go å¤åˆ¶ 1// âŒ ä¼ªå…±äº«é—®é¢˜ 2type Data struct { 3 a int64 4 b int64 // å¯èƒ½åœ¨åŒä¸€ç¼“å­˜è¡Œ 5} 6 7// âœ… ç¼“å­˜è¡Œå¯¹é½ 8type Data struct { 9 a int64 10 _ [56]byte // å¡«å……ï¼Œç¡®ä¿åœ¨ä¸åŒç¼“å­˜è¡Œ 11 b int64 12} ä¸‰ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ– # 1. é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ # &lt;/&gt; go å¤åˆ¶ 1// æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹© 2- æŸ¥æ‰¾é¢‘ç¹ â†’ map 3- æœ‰åºæ•°æ® â†’ slice &#43; äºŒåˆ†æŸ¥æ‰¾ 4- é¢‘ç¹æ’å…¥åˆ é™¤ â†’ linked list 5- å”¯ä¸€æ€§æ£€æŸ¥ â†’ map æˆ– bitset 2. é¢„åˆ†é…å®¹é‡ # &lt;/&gt; go å¤åˆ¶ 1// âŒ åŠ¨æ€æ‰©å®¹ 2var users []User 3for i := 0; i &lt; 10000; i&#43;&#43; { 4 users = append(users, User{}) // å¤šæ¬¡æ‰©å®¹ 5} 6 7// âœ… é¢„åˆ†é… 8users := make([]User, 0, 10000) 9for i := 0; i &lt; 10000; i&#43;&#43; { 10 users = append(users, User{}) 11} 3. ä½¿ç”¨æ›´å¿«çš„ç®—æ³• # &lt;/&gt; go å¤åˆ¶ 1// âŒ O(nÂ²) 2for i := 0; i &lt; n; i&#43;&#43; { 3 for j := 0; j &lt; n; j&#43;&#43; { 4 // å¤„ç† 5 } 6} 7 8// âœ… O(n log n) æˆ– O(n) 9sort.Slice(data, func(i, j int) bool { 10 return data[i] &lt; data[j] 11}) 4. åˆ©ç”¨ä½è¿ç®— # &lt;/&gt; go å¤åˆ¶ 1// âŒ ä¹˜é™¤è¿ç®— 2x := a * 2 3y := b / 2 4 5// âœ… ä½è¿ç®— 6x := a &lt;&lt; 1 // ä¹˜ä»¥2 7y := b &gt;&gt; 1 // é™¤ä»¥2 å››ã€I/O æ€§èƒ½ä¼˜åŒ– # 1. æ‰¹é‡æ“ä½œ # &lt;/&gt; go å¤åˆ¶ 1// âŒ å•æ¡æ“ä½œ 2for _, user := range users { 3 db.Insert(user) 4} 5 6// âœ… æ‰¹é‡æ“ä½œ 7db.BulkInsert(users) 2. ç¼“å†² I/O # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ— ç¼“å†² 2file, _ := os.Open(&#34;data.txt&#34;) 3buf := make([]byte, 1) 4for { 5 n, err := file.Read(buf) 6 // ... 7} 8 9// âœ… å¸¦ç¼“å†² 10reader := bufio.NewReader(file) 11for { 12 line, err := reader.ReadString(&#39;\n&#39;) 13 // ... 14} 3. è¿æ¥å¤ç”¨ # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ¯æ¬¡åˆ›å»ºè¿æ¥ 2func query() { 3 db, _ := sql.Open(...) 4 defer db.Close() 5 // ... 6} 7 8// âœ… è¿æ¥æ±  9var db *sql.DB 10 11func init() { 12 db, _ = sql.Open(...) 13 db.SetMaxOpenConns(100) 14 db.SetMaxIdleConns(10) 15} 4. é›¶æ‹·è´æŠ€æœ¯ # &lt;/&gt; go å¤åˆ¶ 1// âŒ æ•°æ®å¤åˆ¶ 2func process(data []byte) []byte { 3 result := make([]byte, len(data)) 4 copy(result, data) 5 // å¤„ç† 6 return result 7} 8 9// âœ… é¿å…å¤åˆ¶ 10func processInPlace(data []byte) { 11 // åŸåœ°å¤„ç† 12 for i := range data { 13 data[i] = data[i] &#43; 1 14 } 15} äº”ã€ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ– # 1. å†…è”ä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å†…è”å°å‡½æ•° 2// æ ‡è®°ä¸º //go:noinline å¯ä»¥é˜»æ­¢å†…è” 3func smallFunction(a, b int) int { 4 return a &#43; b // å¯èƒ½è¢«å†…è” 5} 6 7//go:noinline 8func largeFunction() { 9 // ä¸ä¼šè¢«å†…è” 10} 2. é€ƒé€¸åˆ†æä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// æŸ¥çœ‹é€ƒé€¸åˆ†æ 2go build -gcflags=&#34;-m -l&#34; 3 4// è¾“å‡ºä¼šæ˜¾ç¤ºå“ªäº›å˜é‡é€ƒé€¸åˆ°å † 3. ç¼–è¯‘å™¨æŒ‡ä»¤ # &lt;/&gt; go å¤åˆ¶ 1// è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤ 2func sum(arr []int) int { 3 s := 0 4 for i := range arr { 5 s &#43;= arr[i] // ç¼–è¯‘å™¨å¯èƒ½æ¶ˆé™¤è¾¹ç•Œæ£€æŸ¥ 6 } 7 return s 8} 9 10// ç¼–è¯‘æ—¶ç¦ç”¨è¾¹ç•Œæ£€æŸ¥ 11// go build -gcflags=&#34;-B&#34; 4. ä½¿ç”¨ PGOï¼ˆProfile-Guided Optimizationï¼‰ # &lt;/&gt; go å¤åˆ¶ 1// 1. æ”¶é›†æ€§èƒ½æ•°æ® 2go test -cpuprofile=cpu.prof -bench=. 3 4// 2. ä½¿ç”¨ PGO ç¼–è¯‘ 5go build -pgo=cpu.prof å…­ã€å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ– # 1. strings.Builder # &lt;/&gt; go å¤åˆ¶ 1// âŒ å­—ç¬¦ä¸²æ‹¼æ¥ 2var result string 3for i := 0; i &lt; 1000; i&#43;&#43; { 4 result &#43;= strconv.Itoa(i) 5} 6 7// âœ… ä½¿ç”¨ strings.Builder 8var builder strings.Builder 9for i := 0; i &lt; 1000; i&#43;&#43; { 10 builder.WriteString(strconv.Itoa(i)) 11} 12result := builder.String() 2. é¿å… []byte ä¸ string è½¬æ¢ # &lt;/&gt; go å¤åˆ¶ 1// âŒ é¢‘ç¹è½¬æ¢ 2func process(s string) { 3 b := []byte(s) // åˆ†é…æ–°å†…å­˜ 4 // å¤„ç† b 5 s2 := string(b) // å†æ¬¡åˆ†é… 6} 7 8// âœ… ç»Ÿä¸€ä½¿ç”¨ []byte 9func process(b []byte) []byte { 10 // åŸåœ°å¤„ç† 11 return b 12} 3. ä½¿ç”¨ bytes åŒ…ä»£æ›¿ strings åŒ… # &lt;/&gt; go å¤åˆ¶ 1// bytes åŒ…æ“ä½œ []byteï¼Œé¿å…è½¬æ¢ 2// âŒ 3s := &#34;hello&#34; 4s = strings.ToUpper(s) 5 6// âœ… 7b := []byte(&#34;hello&#34;) 8b = bytes.ToUpper(b) ä¸ƒã€ç½‘ç»œä¸åè®®ä¼˜åŒ– # 1. åè®®é€‰æ‹© # &lt;/&gt; go å¤åˆ¶ 1// æ ¹æ®åœºæ™¯é€‰æ‹©åè®® 2- REST/HTTP/1.1 â†’ ç®€å•ï¼Œå…¼å®¹æ€§å¥½ 3- HTTP/2 â†’ å¤šè·¯å¤ç”¨ï¼Œå¤´éƒ¨å‹ç¼© 4- gRPC â†’ é«˜æ€§èƒ½ï¼Œprotobuf ç¼–ç  5- WebSocket â†’ å®æ—¶åŒå‘é€šä¿¡ 2. è¿æ¥å¤ç”¨ï¼ˆHTTP/2, HTTP/3ï¼‰ # &lt;/&gt; go å¤åˆ¶ 1// é…ç½® HTTP å®¢æˆ·ç«¯ 2client := &amp;http.Client{ 3 Transport: &amp;http.Transport{ 4 MaxIdleConns: 100, 5 MaxIdleConnsPerHost: 10, 6 IdleConnTimeout: 90 * time.Second, 7 // å¯ç”¨ HTTP/2 8 ForceAttemptHTTP2: true, 9 }, 10} 3. å‹ç¼©ä¸åºåˆ—åŒ– # &lt;/&gt; go å¤åˆ¶ 1// é€‰æ‹©åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼ 2- JSON â†’ é€šç”¨ï¼Œå¯è¯»æ€§å¥½ 3- Protobuf â†’ é«˜æ•ˆï¼ŒäºŒè¿›åˆ¶ 4- MessagePack â†’ äºŒè¿›åˆ¶ JSON 5- FlatBuffers â†’ é›¶æ‹·è´åºåˆ—åŒ– 6 7// ä½¿ç”¨å‹ç¼© 8import &#34;compress/gzip&#34; å…«ã€æ•°æ®åº“ä¼˜åŒ– # 1. SQL ä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// âŒ N&#43;1 æŸ¥è¯¢ 2for _, user := range users { 3 db.Query(&#34;SELECT * FROM orders WHERE user_id = ?&#34;, user.ID) 4} 5 6// âœ… JOIN æˆ–æ‰¹é‡æŸ¥è¯¢ 7db.Query(` 8 SELECT u.*, o.* 9 FROM users u 10 LEFT JOIN orders o ON u.id = o.user_id 11`) 2. ç´¢å¼•ä¼˜åŒ– # &lt;/&gt; go å¤åˆ¶ 1// æ·»åŠ åˆé€‚ç´¢å¼• 2CREATE INDEX idx_user_email ON users(email); 3CREATE INDEX idx_order_user_date ON orders(user_id, created_at); 3. è¿æ¥æ± é…ç½® # &lt;/&gt; go å¤åˆ¶ 1db.SetMaxOpenConns(100) // æœ€å¤§è¿æ¥æ•° 2db.SetMaxIdleConns(25) // æœ€å¤§ç©ºé—²è¿æ¥æ•° 3db.SetConnMaxLifetime(5 * time.Minute) // è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ ä¹ã€ç›‘æ§ä¸åˆ†æå·¥å…· # 1. ä½¿ç”¨ pprof # &lt;/&gt; go å¤åˆ¶ 1import _ &#34;net/http/pprof&#34; 2 3go func() { 4 http.ListenAndServe(&#34;:6060&#34;, nil) 5}() 6 7// æ”¶é›†æ•°æ® 8go tool pprof http://localhost:6060/debug/pprof/profile 9go tool pprof http://localhost:6060/debug/pprof/heap 2. ä½¿ç”¨ trace # &lt;/&gt; go å¤åˆ¶ 1import &#34;runtime/trace&#34; 2 3trace.Start(w) 4defer trace.Stop(w) 5 6// åˆ†æ 7go tool trace trace.out 3. ä½¿ç”¨ expvar # &lt;/&gt; go å¤åˆ¶ 1import &#34;expvar&#34; 2 3var ( 4 requestCount = expvar.NewInt(&#34;request_count&#34;) 5 avgLatency = expvar.NewFloat(&#34;avg_latency_ms&#34;) 6) 7 8func handler(w http.ResponseWriter, r *http.Request) { 9 start := time.Now() 10 // å¤„ç†è¯·æ±‚ 11 latency := time.Since(start).Milliseconds() 12 requestCount.Add(1) 13 // æ›´æ–°å¹³å‡å»¶è¿Ÿ... 14} åã€éƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ– # 1. å®¹å™¨ä¼˜åŒ– # &lt;/&gt; dockerfile å¤åˆ¶ 1# å¤šé˜¶æ®µæ„å»º 2FROM golang:1.21 AS builder 3WORKDIR /app 4COPY . . 5RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app . 6 7FROM alpine:latest 8COPY --from=builder /app/app . 9CMD [&#34;./app&#34;] 2. æ“ä½œç³»ç»Ÿä¼˜åŒ– # &lt;/&gt; bash å¤åˆ¶ 1# è°ƒæ•´ç³»ç»Ÿå‚æ•° 2sysctl -w net.core.somaxconn=65535 3sysctl -w net.ipv4.tcp_tw_reuse=1 4sysctl -w net.ipv4.ip_local_port_range=&#34;1024 65000&#34; 3. CPU äº²å’Œæ€§ # &lt;/&gt; go å¤åˆ¶ 1import &#34;runtime&#34; 2 3// è®¾ç½® GOMAXPROCS 4runtime.GOMAXPROCS(runtime.NumCPU()) 5 6// ä½¿ç”¨ taskset ç»‘å®š CPU 7// taskset -c 0-3 ./app ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§ # ä¼˜å…ˆçº§ 1ï¼šå½±å“æœ€å¤§çš„ä¼˜åŒ– # ç®—æ³•ä¼˜åŒ– - æ”¹å˜å¤æ‚åº¦ï¼ˆO(nÂ²) â†’ O(n log n)ï¼‰ å‡å°‘ä¸å¿…è¦çš„æ“ä½œ - é¿å…é‡å¤è®¡ç®— æ‰¹é‡å¤„ç† - å‡å°‘ I/O æ¬¡æ•° ä¼˜å…ˆçº§ 2ï¼šæ˜¾è‘—çš„ä¼˜åŒ– # å†…å­˜åˆ†é…ä¼˜åŒ– - å‡å°‘ GC å‹åŠ› å¹¶å‘ä¼˜åŒ– - åˆç†ä½¿ç”¨ goroutine å’Œé” æ•°æ®ç»“æ„ä¼˜åŒ– - é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ ä¼˜å…ˆçº§ 3ï¼šå¾®ä¼˜åŒ– # ç¼–è¯‘å™¨ä¼˜åŒ– - å†…è”ã€é€ƒé€¸åˆ†æ CPU ç¼“å­˜ä¼˜åŒ– - ç¼“å­˜è¡Œå¯¹é½ æŒ‡ä»¤çº§ä¼˜åŒ– - ä½è¿ç®—ç­‰ ğŸ¯ æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™ # æµ‹é‡ç¬¬ä¸€ - ä½¿ç”¨ pprof ç­‰å·¥å…·æ‰¾åˆ°ç“¶é¢ˆ 20/80 æ³•åˆ™ - ä¼˜åŒ– 20% çš„ä»£ç è·å¾— 80% çš„æ”¶ç›Š æ¸è¿›ä¼˜åŒ– - å…ˆåšç®€å•æœ‰æ•ˆçš„å¤§ä¼˜åŒ–ï¼Œå†åšå¤æ‚çš„å°ä¼˜åŒ– ä¿æŒå¯è¯»æ€§ - ä¸è¦ä¸ºäº†æ€§èƒ½ç‰ºç‰²ä»£ç å¯ç»´æŠ¤æ€§ è€ƒè™‘ ROI - è¯„ä¼°ä¼˜åŒ–æŠ•å…¥ä¸æ”¶ç›Šæ¯” ğŸ“š å®ç”¨æ£€æŸ¥æ¸…å• # &lt;/&gt; go å¤åˆ¶ 1// æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å• 2â–¡ 1. æ˜¯å¦æœ‰ä¸å¿…è¦çš„å†…å­˜åˆ†é…ï¼Ÿ 3â–¡ 2. æ˜¯å¦å¯ä»¥å¤ç”¨å¯¹è±¡ï¼ˆsync.Poolï¼‰ï¼Ÿ 4â–¡ 3. æ˜¯å¦æœ‰é”ç«äº‰ï¼Ÿ 5â–¡ 4. æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„å¹¶å‘æ¨¡å¼ï¼Ÿ 6â–¡ 5. ç®—æ³•å¤æ‚åº¦æ˜¯å¦å¯ä»¥é™ä½ï¼Ÿ 7â–¡ 6. æ˜¯å¦æœ‰é‡å¤è®¡ç®—ï¼Ÿ 8â–¡ 7. I/O æ“ä½œæ˜¯å¦å¯ä»¥æ‰¹é‡å¤„ç†ï¼Ÿ 9â–¡ 8. æ˜¯å¦ä½¿ç”¨äº†ç¼“å†² I/Oï¼Ÿ 10â–¡ 9. æ•°æ®åº“æŸ¥è¯¢æ˜¯å¦æœ‰ç´¢å¼•ï¼Ÿ 11â–¡ 10. æ˜¯å¦å¯ç”¨äº†è¿æ¥æ± ï¼Ÿ 12â–¡ 11. æ˜¯å¦é¿å…äº†ä¸å¿…è¦çš„ []byte/string è½¬æ¢ï¼Ÿ 13â–¡ 12. æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼ï¼Ÿ 14â–¡ 13. æ˜¯å¦ç›‘æ§äº†å…³é”®æŒ‡æ ‡ï¼Ÿ è®°ä½ï¼šè¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºã€‚åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦é€šè¿‡ profiling ç¡®å®šçœŸæ­£çš„æ€§èƒ½ç“¶é¢ˆï¼Œæœ‰é’ˆå¯¹æ€§çš„è¿›è¡Œä¼˜åŒ–ã€‚">

      
    
    
    <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Teches",
    "name": "æ€§èƒ½ä¼˜åŒ–",
    "headline": "æ€§èƒ½ä¼˜åŒ–",
    
    "abstract": "\u003ch2 class=\u0022relative group\u0022\u003eğŸ“Š \u003cstrong\u003eæ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ\u003c\/strong\u003e \n    \u003cdiv id=\u0022-æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e5%88%86%e7%b1%bb%e6%80%bb%e8%a7%88\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003etext\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-text\u0022 data-lang=\u0022text\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”Œâ”€ ä»£ç å±‚é¢ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ å†…å­˜ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ å¹¶å‘ä¼˜åŒ–  \n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ ç®—æ³•ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â””â”€ ç¼–è¯‘å™¨ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”œâ”€ è¿è¡Œæ—¶ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ GC ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ è°ƒåº¦ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â””â”€ å†…å­˜ç®¡ç†\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”œâ”€ I\/O ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ ç½‘ç»œä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â”œâ”€ æ–‡ä»¶ç³»ç»Ÿä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e15\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚  â””â”€ æ•°æ®åº“ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e16\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ”‚\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e17\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003eâ””â”€ ç³»ç»Ÿå±‚é¢ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e18\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e   â”œâ”€ éƒ¨ç½²ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e19\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e   â”œâ”€ ç›‘æ§ä¼˜åŒ–\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e20\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e   â””â”€ ç¡¬ä»¶ä¼˜åŒ–\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch2 class=\u0022relative group\u0022\u003eğŸ”§ \u003cstrong\u003eè¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯\u003c\/strong\u003e \n    \u003cdiv id=\u0022-è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#-%e8%af%a6%e7%bb%86%e7%9a%84%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e6%80%9d%e8%b7%af\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ï¼ˆé‡ç‚¹ï¼ï¼‰ \n    \u003cdiv id=\u0022ä¸€å†…å­˜ç®¡ç†ä¼˜åŒ–é‡ç‚¹\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%b8%80%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86%e4%bc%98%e5%8c%96%e9%87%8d%e7%82%b9\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eå‡å°‘å†…å­˜åˆ†é…\u003c\/strong\u003e \n    \u003cdiv id=\u00221-å‡å°‘å†…å­˜åˆ†é…\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e5%87%8f%e5%b0%91%e5%86%85%e5%ad%98%e5%88%86%e9%85%8d\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹åˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003emake\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e([]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1024\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ æ¯æ¬¡å¾ªç¯éƒ½åˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ ä½¿ç”¨ data...\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… é¢„åˆ†é…æˆ–å¤ç”¨\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ebuffer\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003emake\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e([]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1024\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ å¤ç”¨ buffer\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eä½¿ç”¨å¯¹è±¡æ±  sync.Pool\u003c\/strong\u003e \n    \u003cdiv id=\u00222-ä½¿ç”¨å¯¹è±¡æ± -syncpool\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e4%bd%bf%e7%94%a8%e5%af%b9%e8%b1%a1%e6%b1%a0-syncpool\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebufferPool\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003esync\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ePool\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eNew\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003einterface\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{}\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebytes\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eNewBuffer\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nb\u0022\u003emake\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e([]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1024\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e))\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022p\u0022\u003e},\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003egetBuffer\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebytes\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eBuffer\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebufferPool\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eGet\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e().(\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebytes\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eBuffer\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eputBuffer\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebuf\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebytes\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eBuffer\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ebuf\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eReset\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ebufferPool\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003ePut\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebuf\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eé¿å…å†…å­˜é€ƒé€¸\u003c\/strong\u003e \n    \u003cdiv id=\u00223-é¿å…å†…å­˜é€ƒé€¸\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e9%81%bf%e5%85%8d%e5%86%85%e5%ad%98%e9%80%83%e9%80%b8\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ å¯èƒ½é€ƒé€¸åˆ°å †\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003enewUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u0026amp;\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eName\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;John\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ é€ƒé€¸åˆ°å †\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… å¦‚æœå¯èƒ½ï¼Œè®©è°ƒç”¨æ–¹åˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003efillUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eu\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eName\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;John\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e4. \u003cstrong\u003eä½¿ç”¨æ ˆåˆ†é…\u003c\/strong\u003e \n    \u003cdiv id=\u00224-ä½¿ç”¨æ ˆåˆ†é…\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#4-%e4%bd%bf%e7%94%a8%e6%a0%88%e5%88%86%e9%85%8d\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ å°å¯¹è±¡å°½é‡åœ¨æ ˆä¸Šåˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003etype\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eSmall\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003estruct\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint32\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ ç¼–è¯‘å™¨ä¼šä¼˜å…ˆåœ¨æ ˆä¸Šåˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eprocess\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eSmall\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ æ ˆåˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ ...\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eäºŒã€å¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ– \n    \u003cdiv id=\u0022äºŒå¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%ba%8c%e5%b9%b6%e5%8f%91%e4%b8%8e%e5%b9%b6%e8%a1%8c%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eæ§åˆ¶ Goroutine æ•°é‡\u003c\/strong\u003e \n    \u003cdiv id=\u00221-æ§åˆ¶-goroutine-æ•°é‡\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e6%8e%a7%e5%88%b6-goroutine-%e6%95%b0%e9%87%8f\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ æ— é™åˆ¶åˆ›å»º goroutine\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etask\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022k\u0022\u003erange\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etasks\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eprocess\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003etask\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ å¯èƒ½åˆ›å»ºå¤ªå¤š goroutine\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ä½¿ç”¨ worker pool\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003etype\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eWorkerPool\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003estruct\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eworkers\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003etasks\u003c\/span\u003e   \u003cspan class=\u0022kd\u0022\u003echan\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eTask\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ewp\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eWorkerPool\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eStart\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ewp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eworkers\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ewp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eworker\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e15\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e16\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eå‡å°‘é”ç«äº‰\u003c\/strong\u003e \n    \u003cdiv id=\u00222-å‡å°‘é”ç«äº‰\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e5%87%8f%e5%b0%91%e9%94%81%e7%ab%9e%e4%ba%89\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ ç²—ç²’åº¦é”\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003emu\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003esync\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eMutex\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003emap\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eupdate\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ekey\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003evalue\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003emu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eLock\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ekey\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003evalue\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003emu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eUnlock\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ç»†ç²’åº¦é”æˆ–åˆ†ç‰‡é”\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003etype\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eShardedMap\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003estruct\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eshards\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kd\u0022\u003emap\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003elocks\u003c\/span\u003e  \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003esync\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eRWMutex\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e15\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e16\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e17\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003esm\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eShardedMap\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003egetShard\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ekey\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e18\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003eint\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003efnv32\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ekey\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e))\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e%\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003elen\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003esm\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eshards\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e19\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eä½¿ç”¨ atomic æ“ä½œ\u003c\/strong\u003e \n    \u003cdiv id=\u00223-ä½¿ç”¨-atomic-æ“ä½œ\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e4%bd%bf%e7%94%a8-atomic-%e6%93%8d%e4%bd%9c\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ ä½¿ç”¨é”ä¿æŠ¤è®¡æ•°å™¨\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ecount\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003emu\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003esync\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eMutex\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eincrement\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003emu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eLock\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ecount\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003emu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eUnlock\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ä½¿ç”¨ atomic\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ecount\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint64\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eincrement\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e15\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eatomic\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eAddInt64\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u0026amp;\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ecount\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e16\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e4. \u003cstrong\u003eåˆ©ç”¨ CPU ç¼“å­˜è¡Œ\u003c\/strong\u003e \n    \u003cdiv id=\u00224-åˆ©ç”¨-cpu-ç¼“å­˜è¡Œ\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#4-%e5%88%a9%e7%94%a8-cpu-%e7%bc%93%e5%ad%98%e8%a1%8c\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ ä¼ªå…±äº«é—®é¢˜\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003etype\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eData\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003estruct\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint64\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint64\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ å¯èƒ½åœ¨åŒä¸€ç¼“å­˜è¡Œ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ç¼“å­˜è¡Œå¯¹é½\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003etype\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eData\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003estruct\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint64\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e56\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ å¡«å……ï¼Œç¡®ä¿åœ¨ä¸åŒç¼“å­˜è¡Œ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint64\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¸‰ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ– \n    \u003cdiv id=\u0022ä¸‰æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%b8%89%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e4%b8%8e%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„\u003c\/strong\u003e \n    \u003cdiv id=\u00221-é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e9%80%89%e6%8b%a9%e5%90%88%e9%80%82%e7%9a%84%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæŸ¥æ‰¾é¢‘ç¹\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003emap\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæœ‰åºæ•°æ®\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eslice\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u002b\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eäºŒåˆ†æŸ¥æ‰¾\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eé¢‘ç¹æ’å…¥åˆ é™¤\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003elinked\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003elist\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eå”¯ä¸€æ€§æ£€æŸ¥\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003emap\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæˆ–\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebitset\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eé¢„åˆ†é…å®¹é‡\u003c\/strong\u003e \n    \u003cdiv id=\u00222-é¢„åˆ†é…å®¹é‡\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e9%a2%84%e5%88%86%e9%85%8d%e5%ae%b9%e9%87%8f\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ åŠ¨æ€æ‰©å®¹\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e10000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003eappend\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{})\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ å¤šæ¬¡æ‰©å®¹\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… é¢„åˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003emake\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e([]\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e10000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e10000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003eappend\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eUser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{})\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eä½¿ç”¨æ›´å¿«çš„ç®—æ³•\u003c\/strong\u003e \n    \u003cdiv id=\u00223-ä½¿ç”¨æ›´å¿«çš„ç®—æ³•\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e4%bd%bf%e7%94%a8%e6%9b%b4%e5%bf%ab%e7%9a%84%e7%ae%97%e6%b3%95\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ O(nÂ²)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003en\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ej\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ej\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003en\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ej\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022c1\u0022\u003e\/\/ å¤„ç†\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… O(n log n) æˆ– O(n)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003esort\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSlice\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ej\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003ebool\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ej\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e})\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e4. \u003cstrong\u003eåˆ©ç”¨ä½è¿ç®—\u003c\/strong\u003e \n    \u003cdiv id=\u00224-åˆ©ç”¨ä½è¿ç®—\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#4-%e5%88%a9%e7%94%a8%e4%bd%8d%e8%bf%90%e7%ae%97\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ ä¹˜é™¤è¿ç®—\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ex\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e2\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ey\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e2\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ä½è¿ç®—\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ex\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u0026lt;\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ ä¹˜ä»¥2\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ey\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u0026gt;\u0026gt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ é™¤ä»¥2\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eå››ã€I\/O æ€§èƒ½ä¼˜åŒ– \n    \u003cdiv id=\u0022å››io-æ€§èƒ½ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e5%9b%9bio-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eæ‰¹é‡æ“ä½œ\u003c\/strong\u003e \n    \u003cdiv id=\u00221-æ‰¹é‡æ“ä½œ\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e6%89%b9%e9%87%8f%e6%93%8d%e4%bd%9c\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ å•æ¡æ“ä½œ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003euser\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022k\u0022\u003erange\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eInsert\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003euser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… æ‰¹é‡æ“ä½œ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eBulkInsert\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eç¼“å†² I\/O\u003c\/strong\u003e \n    \u003cdiv id=\u00222-ç¼“å†²-io\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e7%bc%93%e5%86%b2-io\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ æ— ç¼“å†²\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003efile\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eos\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eOpen\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;data.txt\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ebuf\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003emake\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e([]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003en\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eerr\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003efile\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eRead\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebuf\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ ...\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… å¸¦ç¼“å†²\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003ereader\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebufio\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eNewReader\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003efile\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eline\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eerr\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ereader\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eReadString\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022sc\u0022\u003e\u0026#39;\\n\u0026#39;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ ...\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eè¿æ¥å¤ç”¨\u003c\/strong\u003e \n    \u003cdiv id=\u00223-è¿æ¥å¤ç”¨\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e8%bf%9e%e6%8e%a5%e5%a4%8d%e7%94%a8\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ æ¯æ¬¡åˆ›å»ºè¿æ¥\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003equery\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003esql\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eOpen\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e...\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003edefer\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eClose\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ ...\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… è¿æ¥æ± \u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003esql\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eDB\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003einit\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003esql\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eOpen\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e...\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSetMaxOpenConns\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e100\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSetMaxIdleConns\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e15\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e4. \u003cstrong\u003eé›¶æ‹·è´æŠ€æœ¯\u003c\/strong\u003e \n    \u003cdiv id=\u00224-é›¶æ‹·è´æŠ€æœ¯\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#4-%e9%9b%b6%e6%8b%b7%e8%b4%9d%e6%8a%80%e6%9c%af\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ æ•°æ®å¤åˆ¶\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eprocess\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eresult\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003emake\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e([]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003elen\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e))\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nb\u0022\u003ecopy\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eresult\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ å¤„ç†\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eresult\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… é¿å…å¤åˆ¶\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eprocessInPlace\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ åŸåœ°å¤„ç†\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022k\u0022\u003erange\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003edata\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u002b\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e15\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eäº”ã€ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ– \n    \u003cdiv id=\u0022äº”ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%ba%94%e7%bc%96%e8%af%91%e5%99%a8%e4%b8%8e%e8%bf%90%e8%a1%8c%e6%97%b6%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eå†…è”ä¼˜åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00221-å†…è”ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e5%86%85%e8%81%94%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å†…è”å°å‡½æ•°\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æ ‡è®°ä¸º \/\/go:noinline å¯ä»¥é˜»æ­¢å†…è”\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003esmallFunction\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ea\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u002b\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ å¯èƒ½è¢«å†…è”\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/go:noinline\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003elargeFunction\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ ä¸ä¼šè¢«å†…è”\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eé€ƒé€¸åˆ†æä¼˜åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00222-é€ƒé€¸åˆ†æä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e9%80%83%e9%80%b8%e5%88%86%e6%9e%90%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æŸ¥çœ‹é€ƒé€¸åˆ†æ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebuild\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003egcflags\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;-m -l\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ è¾“å‡ºä¼šæ˜¾ç¤ºå“ªäº›å˜é‡é€ƒé€¸åˆ°å †\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eç¼–è¯‘å™¨æŒ‡ä»¤\u003c\/strong\u003e \n    \u003cdiv id=\u00223-ç¼–è¯‘å™¨æŒ‡ä»¤\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e7%bc%96%e8%af%91%e5%99%a8%e6%8c%87%e4%bb%a4\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003esum\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003earr\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003eint\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022k\u0022\u003erange\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003earr\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003earr\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ ç¼–è¯‘å™¨å¯èƒ½æ¶ˆé™¤è¾¹ç•Œæ£€æŸ¥\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ ç¼–è¯‘æ—¶ç¦ç”¨è¾¹ç•Œæ£€æŸ¥\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ go build -gcflags=\u0026#34;-B\u0026#34;\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e4. \u003cstrong\u003eä½¿ç”¨ PGOï¼ˆProfile-Guided Optimizationï¼‰\u003c\/strong\u003e \n    \u003cdiv id=\u00224-ä½¿ç”¨-pgoprofile-guided-optimization\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#4-%e4%bd%bf%e7%94%a8-pgoprofile-guided-optimization\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ 1. æ”¶é›†æ€§èƒ½æ•°æ®\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etest\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ecpuprofile\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ecpu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eprof\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ebench\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e=.\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ 2. ä½¿ç”¨ PGO ç¼–è¯‘\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebuild\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003epgo\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ecpu\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eprof\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eå…­ã€å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ– \n    \u003cdiv id=\u0022å…­å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e5%85%ad%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%8e%e5%ad%97%e8%8a%82%e5%a4%84%e7%90%86%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003estrings.Builder\u003c\/strong\u003e \n    \u003cdiv id=\u00221-stringsbuilder\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-stringsbuilder\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ å­—ç¬¦ä¸²æ‹¼æ¥\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eresult\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eresult\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u002b=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003estrconv\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eItoa\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ä½¿ç”¨ strings.Builder\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebuilder\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003estrings\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eBuilder\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e0\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e\u0026lt;\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e1000\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e;\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\u002b\u002b\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ebuilder\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eWriteString\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003estrconv\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eItoa\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ei\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e))\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eresult\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebuilder\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eString\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eé¿å… []byte ä¸ string è½¬æ¢\u003c\/strong\u003e \n    \u003cdiv id=\u00222-é¿å…-byte-ä¸-string-è½¬æ¢\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e9%81%bf%e5%85%8d-byte-%e4%b8%8e-string-%e8%bd%ac%e6%8d%a2\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ é¢‘ç¹è½¬æ¢\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eprocess\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e \u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022nb\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ åˆ†é…æ–°å†…å­˜\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ å¤„ç† b\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003es2\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nb\u0022\u003estring\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022c1\u0022\u003e\/\/ å†æ¬¡åˆ†é…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… ç»Ÿä¸€ä½¿ç”¨ []byte\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eprocess\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ åŸåœ°å¤„ç†\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022k\u0022\u003ereturn\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eä½¿ç”¨ bytes åŒ…ä»£æ›¿ strings åŒ…\u003c\/strong\u003e \n    \u003cdiv id=\u00223-ä½¿ç”¨-bytes-åŒ…ä»£æ›¿-strings-åŒ…\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e4%bd%bf%e7%94%a8-bytes-%e5%8c%85%e4%bb%a3%e6%9b%bf-strings-%e5%8c%85\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ bytes åŒ…æ“ä½œ []byteï¼Œé¿å…è½¬æ¢\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;hello\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003estrings\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eToUpper\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003es\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ…\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022nb\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;hello\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ebytes\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eToUpper\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¸ƒã€ç½‘ç»œä¸åè®®ä¼˜åŒ– \n    \u003cdiv id=\u0022ä¸ƒç½‘ç»œä¸åè®®ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%b8%83%e7%bd%91%e7%bb%9c%e4%b8%8e%e5%8d%8f%e8%ae%ae%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eåè®®é€‰æ‹©\u003c\/strong\u003e \n    \u003cdiv id=\u00221-åè®®é€‰æ‹©\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e5%8d%8f%e8%ae%ae%e9%80%89%e6%8b%a9\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æ ¹æ®åœºæ™¯é€‰æ‹©åè®®\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eREST\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eHTTP\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e\u003cspan class=\u0022mf\u0022\u003e1.1\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eç®€å•\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Œ\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eå…¼å®¹æ€§å¥½\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eHTTP\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e2\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eå¤šè·¯å¤ç”¨\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Œ\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eå¤´éƒ¨å‹ç¼©\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003egRPC\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eé«˜æ€§èƒ½\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Œ\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eprotobuf\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eç¼–ç \u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eWebSocket\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eå®æ—¶åŒå‘é€šä¿¡\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eè¿æ¥å¤ç”¨ï¼ˆHTTP\/2, HTTP\/3ï¼‰\u003c\/strong\u003e \n    \u003cdiv id=\u00222-è¿æ¥å¤ç”¨http2-http3\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e8%bf%9e%e6%8e%a5%e5%a4%8d%e7%94%a8http2-http3\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ é…ç½® HTTP å®¢æˆ·ç«¯\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eclient\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u0026amp;\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eClient\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eTransport\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e\u0026amp;\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eTransport\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022nx\u0022\u003eMaxIdleConns\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e        \u003cspan class=\u0022mi\u0022\u003e100\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022nx\u0022\u003eMaxIdleConnsPerHost\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e \u003cspan class=\u0022mi\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022nx\u0022\u003eIdleConnTimeout\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e     \u003cspan class=\u0022mi\u0022\u003e90\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eSecond\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022c1\u0022\u003e\/\/ å¯ç”¨ HTTP\/2\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e        \u003cspan class=\u0022nx\u0022\u003eForceAttemptHTTP2\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e \u003cspan class=\u0022kc\u0022\u003etrue\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022p\u0022\u003e},\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eå‹ç¼©ä¸åºåˆ—åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00223-å‹ç¼©ä¸åºåˆ—åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e5%8e%8b%e7%bc%a9%e4%b8%8e%e5%ba%8f%e5%88%97%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ é€‰æ‹©åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eJSON\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eé€šç”¨\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Œ\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eå¯è¯»æ€§å¥½\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eProtobuf\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eé«˜æ•ˆ\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Œ\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eäºŒè¿›åˆ¶\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eMessagePack\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eäºŒè¿›åˆ¶\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eJSON\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022o\u0022\u003e-\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eFlatBuffers\u003c\/span\u003e \u003cspan class=\u0022err\u0022\u003eâ†’\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eé›¶æ‹·è´åºåˆ—åŒ–\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ ä½¿ç”¨å‹ç¼©\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kn\u0022\u003eimport\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;compress\/gzip\u0026#34;\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eå…«ã€æ•°æ®åº“ä¼˜åŒ– \n    \u003cdiv id=\u0022å…«æ•°æ®åº“ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e5%85%ab%e6%95%b0%e6%8d%ae%e5%ba%93%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eSQL ä¼˜åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00221-sql-ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-sql-%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âŒ N\u002b1 æŸ¥è¯¢\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003efor\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003euser\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022k\u0022\u003erange\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eusers\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eQuery\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;SELECT * FROM orders WHERE user_id = ?\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003euser\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eID\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ âœ… JOIN æˆ–æ‰¹é‡æŸ¥è¯¢\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eQuery\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0060\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022s\u0022\u003e    SELECT u.*, o.* \n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022s\u0022\u003e    FROM users u \n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022s\u0022\u003e    LEFT JOIN orders o ON u.id = o.user_id\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022s\u0022\u003e\u0060\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eç´¢å¼•ä¼˜åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00222-ç´¢å¼•ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e7%b4%a2%e5%bc%95%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æ·»åŠ åˆé€‚ç´¢å¼•\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eCREATE\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eINDEX\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eidx_user_email\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eON\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eusers\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eemail\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e);\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eCREATE\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eINDEX\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eidx_order_user_date\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eON\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003eorders\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003euser_id\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ecreated_at\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e);\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eè¿æ¥æ± é…ç½®\u003c\/strong\u003e \n    \u003cdiv id=\u00223-è¿æ¥æ± é…ç½®\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e8%bf%9e%e6%8e%a5%e6%b1%a0%e9%85%8d%e7%bd%ae\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSetMaxOpenConns\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e100\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e     \u003cspan class=\u0022c1\u0022\u003e\/\/ æœ€å¤§è¿æ¥æ•°\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSetMaxIdleConns\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e25\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e      \u003cspan class=\u0022c1\u0022\u003e\/\/ æœ€å¤§ç©ºé—²è¿æ¥æ•°\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003edb\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSetConnMaxLifetime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e5\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eMinute\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e  \u003cspan class=\u0022c1\u0022\u003e\/\/ è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¹ã€ç›‘æ§ä¸åˆ†æå·¥å…· \n    \u003cdiv id=\u0022ä¹ç›‘æ§ä¸åˆ†æå·¥å…·\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%b9%9d%e7%9b%91%e6%8e%a7%e4%b8%8e%e5%88%86%e6%9e%90%e5%b7%a5%e5%85%b7\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eä½¿ç”¨ pprof\u003c\/strong\u003e \n    \u003cdiv id=\u00221-ä½¿ç”¨-pprof\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e4%bd%bf%e7%94%a8-pprof\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kn\u0022\u003eimport\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003e_\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;net\/http\/pprof\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eListenAndServe\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;:6060\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022kc\u0022\u003enil\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æ”¶é›†æ•°æ®\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etool\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003epprof\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/localhost:6060\/debug\/pprof\/profile\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etool\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003epprof\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e:\u003c\/span\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/localhost:6060\/debug\/pprof\/heap\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eä½¿ç”¨ trace\u003c\/strong\u003e \n    \u003cdiv id=\u00222-ä½¿ç”¨-trace\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e4%bd%bf%e7%94%a8-trace\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kn\u0022\u003eimport\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;runtime\/trace\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003etrace\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eStart\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ew\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003edefer\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etrace\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eStop\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ew\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ åˆ†æ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022k\u0022\u003ego\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etool\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etrace\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etrace\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eout\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eä½¿ç”¨ expvar\u003c\/strong\u003e \n    \u003cdiv id=\u00223-ä½¿ç”¨-expvar\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-%e4%bd%bf%e7%94%a8-expvar\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kn\u0022\u003eimport\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;expvar\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003evar\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003erequestCount\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eexpvar\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eNewInt\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;request_count\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003eavgLatency\u003c\/span\u003e   \u003cspan class=\u0022p\u0022\u003e=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eexpvar\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eNewFloat\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e\u0026#34;avg_latency_ms\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kd\u0022\u003efunc\u003c\/span\u003e \u003cspan class=\u0022nf\u0022\u003ehandler\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ew\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eResponseWriter\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e,\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003er\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e*\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ehttp\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eRequest\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e{\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003estart\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eNow\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ å¤„ç†è¯·æ±‚\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003elatency\u003c\/span\u003e \u003cspan class=\u0022o\u0022\u003e:=\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003etime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eSince\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003estart\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e).\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eMilliseconds\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e()\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022nx\u0022\u003erequestCount\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eAdd\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022mi\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e)\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e    \u003cspan class=\u0022c1\u0022\u003e\/\/ æ›´æ–°å¹³å‡å»¶è¿Ÿ...\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022p\u0022\u003e}\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch3 class=\u0022relative group\u0022\u003eåã€éƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ– \n    \u003cdiv id=\u0022åéƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e5%8d%81%e9%83%a8%e7%bd%b2%e4%b8%8e%e7%b3%bb%e7%bb%9f%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\n\u003ch4 class=\u0022relative group\u0022\u003e1. \u003cstrong\u003eå®¹å™¨ä¼˜åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00221-å®¹å™¨ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#1-%e5%ae%b9%e5%99%a8%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003edockerfile\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-dockerfile\u0022 data-lang=\u0022dockerfile\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c\u0022\u003e# å¤šé˜¶æ®µæ„å»º\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eFROM\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e golang:1.21 AS builder\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eWORKDIR\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e \/app\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eCOPY\u003c\/span\u003e . .\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eRUN\u003c\/span\u003e \u003cspan class=\u0022nv\u0022\u003eCGO_ENABLED\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022m\u0022\u003e0\u003c\/span\u003e \u003cspan class=\u0022nv\u0022\u003eGOOS\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e=\u003c\/span\u003elinux go build -a -installsuffix cgo -o app .\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eFROM\u003c\/span\u003e\u003cspan class=\u0022s\u0022\u003e alpine:latest\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eCOPY\u003c\/span\u003e --from\u003cspan class=\u0022o\u0022\u003e=\u003c\/span\u003ebuilder \/app\/app .\u003cspan class=\u0022err\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003e\u003c\/span\u003e\u003cspan class=\u0022k\u0022\u003eCMD\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[\u003c\/span\u003e\u003cspan class=\u0022s2\u0022\u003e\u0026#34;.\/app\u0026#34;\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e]\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e2. \u003cstrong\u003eæ“ä½œç³»ç»Ÿä¼˜åŒ–\u003c\/strong\u003e \n    \u003cdiv id=\u00222-æ“ä½œç³»ç»Ÿä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#2-%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ebash\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-bash\u0022 data-lang=\u0022bash\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e# è°ƒæ•´ç³»ç»Ÿå‚æ•°\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003esysctl -w net.core.somaxconn\u003cspan class=\u0022o\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022m\u0022\u003e65535\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003esysctl -w net.ipv4.tcp_tw_reuse\u003cspan class=\u0022o\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022m\u0022\u003e1\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003esysctl -w net.ipv4.ip_local_port_range\u003cspan class=\u0022o\u0022\u003e=\u003c\/span\u003e\u003cspan class=\u0022s2\u0022\u003e\u0026#34;1024 65000\u0026#34;\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch4 class=\u0022relative group\u0022\u003e3. \u003cstrong\u003eCPU äº²å’Œæ€§\u003c\/strong\u003e \n    \u003cdiv id=\u00223-cpu-äº²å’Œæ€§\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#3-cpu-%e4%ba%b2%e5%92%8c%e6%80%a7\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h4\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022kn\u0022\u003eimport\u003c\/span\u003e \u003cspan class=\u0022s\u0022\u003e\u0026#34;runtime\u0026#34;\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ è®¾ç½® GOMAXPROCS\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022nx\u0022\u003eruntime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eGOMAXPROCS\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e(\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eruntime\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nf\u0022\u003eNumCPU\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e())\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ ä½¿ç”¨ taskset ç»‘å®š CPU\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ taskset -c 0-3 .\/app\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\n\u003ch2 class=\u0022relative group\u0022\u003eğŸ“ˆ \u003cstrong\u003eæ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§\u003c\/strong\u003e \n    \u003cdiv id=\u0022-æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e4%bc%98%e5%85%88%e7%ba%a7\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¼˜å…ˆçº§ 1ï¼šå½±å“æœ€å¤§çš„ä¼˜åŒ– \n    \u003cdiv id=\u0022ä¼˜å…ˆçº§-1å½±å“æœ€å¤§çš„ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%bc%98%e5%85%88%e7%ba%a7-1%e5%bd%b1%e5%93%8d%e6%9c%80%e5%a4%a7%e7%9a%84%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eç®—æ³•ä¼˜åŒ–\u003c\/strong\u003e - æ”¹å˜å¤æ‚åº¦ï¼ˆO(nÂ²) â†’ O(n log n)ï¼‰\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eå‡å°‘ä¸å¿…è¦çš„æ“ä½œ\u003c\/strong\u003e - é¿å…é‡å¤è®¡ç®—\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ‰¹é‡å¤„ç†\u003c\/strong\u003e - å‡å°‘ I\/O æ¬¡æ•°\u003c\/li\u003e\n\u003c\/ol\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¼˜å…ˆçº§ 2ï¼šæ˜¾è‘—çš„ä¼˜åŒ– \n    \u003cdiv id=\u0022ä¼˜å…ˆçº§-2æ˜¾è‘—çš„ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%bc%98%e5%85%88%e7%ba%a7-2%e6%98%be%e8%91%97%e7%9a%84%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eå†…å­˜åˆ†é…ä¼˜åŒ–\u003c\/strong\u003e - å‡å°‘ GC å‹åŠ›\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eå¹¶å‘ä¼˜åŒ–\u003c\/strong\u003e - åˆç†ä½¿ç”¨ goroutine å’Œé”\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ•°æ®ç»“æ„ä¼˜åŒ–\u003c\/strong\u003e - é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„\u003c\/li\u003e\n\u003c\/ol\u003e\n\n\u003ch3 class=\u0022relative group\u0022\u003eä¼˜å…ˆçº§ 3ï¼šå¾®ä¼˜åŒ– \n    \u003cdiv id=\u0022ä¼˜å…ˆçº§-3å¾®ä¼˜åŒ–\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e4%bc%98%e5%85%88%e7%ba%a7-3%e5%be%ae%e4%bc%98%e5%8c%96\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eç¼–è¯‘å™¨ä¼˜åŒ–\u003c\/strong\u003e - å†…è”ã€é€ƒé€¸åˆ†æ\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eCPU ç¼“å­˜ä¼˜åŒ–\u003c\/strong\u003e - ç¼“å­˜è¡Œå¯¹é½\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eæŒ‡ä»¤çº§ä¼˜åŒ–\u003c\/strong\u003e - ä½è¿ç®—ç­‰\u003c\/li\u003e\n\u003c\/ol\u003e\n\n\u003ch2 class=\u0022relative group\u0022\u003eğŸ¯ \u003cstrong\u003eæ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™\u003c\/strong\u003e \n    \u003cdiv id=\u0022-æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e9%bb%84%e9%87%91%e6%b3%95%e5%88%99\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eæµ‹é‡ç¬¬ä¸€\u003c\/strong\u003e - ä½¿ç”¨ pprof ç­‰å·¥å…·æ‰¾åˆ°ç“¶é¢ˆ\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003e20\/80 æ³•åˆ™\u003c\/strong\u003e - ä¼˜åŒ– 20% çš„ä»£ç è·å¾— 80% çš„æ”¶ç›Š\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ¸è¿›ä¼˜åŒ–\u003c\/strong\u003e - å…ˆåšç®€å•æœ‰æ•ˆçš„å¤§ä¼˜åŒ–ï¼Œå†åšå¤æ‚çš„å°ä¼˜åŒ–\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eä¿æŒå¯è¯»æ€§\u003c\/strong\u003e - ä¸è¦ä¸ºäº†æ€§èƒ½ç‰ºç‰²ä»£ç å¯ç»´æŠ¤æ€§\u003c\/li\u003e\n\u003cli\u003e\u003cstrong\u003eè€ƒè™‘ ROI\u003c\/strong\u003e - è¯„ä¼°ä¼˜åŒ–æŠ•å…¥ä¸æ”¶ç›Šæ¯”\u003c\/li\u003e\n\u003c\/ol\u003e\n\n\u003ch2 class=\u0022relative group\u0022\u003eğŸ“š \u003cstrong\u003eå®ç”¨æ£€æŸ¥æ¸…å•\u003c\/strong\u003e \n    \u003cdiv id=\u0022-å®ç”¨æ£€æŸ¥æ¸…å•\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#-%e5%ae%9e%e7%94%a8%e6%a3%80%e6%9f%a5%e6%b8%85%e5%8d%95\u0022 aria-label=\u0022é”šç‚¹\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\n\u003cdiv class=\u0022code-block-wrapper\u0022\u003e\n  \u003cdiv class=\u0022code-header\u0022\u003e\n    \u003cspan class=\u0022language-label\u0022\u003e\n      \u003cspan class=\u0022language-brackets\u0022\u003e\u0026lt;\/\u003e\u003c\/span\u003e  \n      \u003cspan class=\u0022language-name\u0022\u003ego\u003c\/span\u003e  \n    \u003c\/span\u003e\n\n    \u003cdiv class=\u0022code-buttons\u0022\u003e\n      \u003cbutton class=\u0022copy-button\u0022\u003e\n        \u003ci class=\u0022fas fa-copy\u0022\u003e\u003c\/i\u003e\n        \u003cspan\u003eå¤åˆ¶\u003c\/span\u003e\n      \u003c\/button\u003e\n    \u003c\/div\u003e\n  \u003c\/div\u003e\n  \u003cdiv class=\u0022highlight\u0022\u003e\u003cpre tabindex=\u00220\u0022 class=\u0022chroma\u0022\u003e\u003ccode class=\u0022language-go\u0022 data-lang=\u0022go\u0022\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 1\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022c1\u0022\u003e\/\/ æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 2\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e1.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦æœ‰ä¸å¿…è¦çš„å†…å­˜åˆ†é…\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 3\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e2.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦å¯ä»¥å¤ç”¨å¯¹è±¡\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼ˆ\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003esync\u003c\/span\u003e\u003cspan class=\u0022p\u0022\u003e.\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003ePool\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼‰ï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 4\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e3.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦æœ‰é”ç«äº‰\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 5\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e4.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„å¹¶å‘æ¨¡å¼\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 6\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e5.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eç®—æ³•å¤æ‚åº¦æ˜¯å¦å¯ä»¥é™ä½\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 7\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e6.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦æœ‰é‡å¤è®¡ç®—\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 8\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e7.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eI\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eO\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ“ä½œæ˜¯å¦å¯ä»¥æ‰¹é‡å¤„ç†\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e 9\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e8.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦ä½¿ç”¨äº†ç¼“å†²\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eI\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e\u003cspan class=\u0022nx\u0022\u003eO\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e10\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e9.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ•°æ®åº“æŸ¥è¯¢æ˜¯å¦æœ‰ç´¢å¼•\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e11\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e10.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦å¯ç”¨äº†è¿æ¥æ± \u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e12\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e11.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦é¿å…äº†ä¸å¿…è¦çš„\u003c\/span\u003e \u003cspan class=\u0022p\u0022\u003e[]\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003ebyte\u003c\/span\u003e\u003cspan class=\u0022o\u0022\u003e\/\u003c\/span\u003e\u003cspan class=\u0022kt\u0022\u003estring\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eè½¬æ¢\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e13\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e12.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\n\u003c\/span\u003e\u003c\/span\u003e\u003cspan class=\u0022line\u0022\u003e\u003cspan class=\u0022ln\u0022\u003e14\u003c\/span\u003e\u003cspan class=\u0022cl\u0022\u003e\u003cspan class=\u0022err\u0022\u003eâ–¡\u003c\/span\u003e \u003cspan class=\u0022mf\u0022\u003e13.\u003c\/span\u003e \u003cspan class=\u0022nx\u0022\u003eæ˜¯å¦ç›‘æ§äº†å…³é”®æŒ‡æ ‡\u003c\/span\u003e\u003cspan class=\u0022err\u0022\u003eï¼Ÿ\u003c\/span\u003e\u003c\/span\u003e\u003c\/span\u003e\u003c\/code\u003e\u003c\/pre\u003e\u003c\/div\u003e\n\u003c\/div\u003e\n\n\n\u003cp\u003eè®°ä½ï¼š\u003cstrong\u003eè¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº\u003c\/strong\u003eã€‚åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦é€šè¿‡ profiling ç¡®å®šçœŸæ­£çš„æ€§èƒ½ç“¶é¢ˆï¼Œæœ‰é’ˆå¯¹æ€§çš„è¿›è¡Œä¼˜åŒ–ã€‚\u003c\/p\u003e",
    "inLanguage": "zh-cn",
    "url" : "http:\/\/localhost:43997\/nayun.github.io\/tech\/coding\/golang\/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\/",
    "author" : {
      "@type": "Person",
      "name": "nayun"
    },
    "copyrightYear": "2026",
    "dateCreated": "2026-01-26T15:44:49\u002b08:00",
    "datePublished": "2026-01-26T15:44:49\u002b08:00",
    
    "dateModified": "2026-01-26T15:44:49\u002b08:00",
    
    "keywords": ["æŠ€"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1536"
  }]
  </script>


    
    
    <meta name="author" content="nayun" />
    
    
    

<script src="/nayun.github.io/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















    
    




    
    
    
    
    <meta name="theme-color"/>
    
    
  
    
    
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        }
      };
      </script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  </head>
  <body
    class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>è·³è¿‡æ­£æ–‡</a
      >
    </div>
    
    
      <div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 padding-main-menu">
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/nayun.github.io/" class="text-base font-medium text-gray-500 hover:text-gray-900">nayun blog</a>
            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
            
  <a
  href="/nayun.github.io/tech/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="">
    æŠ€
  </p>
</a>



            
            
  <a
  href="/nayun.github.io/art/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="">
    è‰º
  </p>
</a>



            
            
  <a
  href="/nayun.github.io/about/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="">
    å…³äº
  </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 padding-top-[5px]">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
  <a
    href="/nayun.github.io/tech/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="">
      æŠ€
    </p>
  </a>
</li>




                    

                    
  <li class="mt-1">
  <a
    href="/nayun.github.io/art/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="">
      è‰º
    </p>
  </a>
</li>




                    

                    
  <li class="mt-1">
  <a
    href="/nayun.github.io/about/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="">
      å…³äº
    </p>
  </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  


  <article>
    
      
      
      
      
        
  

      
    


    <header id="single_header" class="mt-5 max-w-prose">
      
        <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
    
  
    
  
  <li class="hidden">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/nayun.github.io/"
      >nayun blog</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/nayun.github.io/tech/"
      >Teches</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/nayun.github.io/tech/coding/"
      >ç¨‹åºè¯­è¨€</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/nayun.github.io/tech/coding/golang/"
      >golang</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="hidden">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/nayun.github.io/tech/coding/golang/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"
      >æ€§èƒ½ä¼˜åŒ–</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        æ€§èƒ½ä¼˜åŒ–
      </h1>
      
      
        <div class="mt-3 mb-4 flex flex-wrap">
          
          
          
            <a href="/nayun.github.io/tags/%E6%8A%80/" 
              class="tag px-1 py-0.5 text-xs font-medium rounded-md border mr-1 last:mr-0 dark:border-blue-400 dark:bg-gray-800 dark:text-blue-300 dark:hover:bg-blue-900/30">
              æŠ€
            </a>
            
        </div>
      
      

      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  

  
  
    
  

  
    
  

  

  
    
  

  
    
  

  

  

  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2026-01-26T15:44:49&#43;08:00">January 26, 2026</time><span class="px-2 text-primary-500">&middot;</span><span>1536 å­—</span><span class="px-2 text-primary-500">&middot;</span><span title="é¢„è®¡é˜…è¯»">8 åˆ†é’Ÿ</span>
    

    
    
  </div>

  

  
  

  
  



      </div>

      
      
      
      
      

      

      

    </header>

    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
        <div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
          <div
            class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky 
              lg:top-10
            
            ">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    ç›®å½•
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#-æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ">ğŸ“Š <strong>æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ</strong></a></li>
        <li><a href="#-è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯">ğŸ”§ <strong>è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯</strong></a>
          <ul>
            <li><a href="#ä¸€å†…å­˜ç®¡ç†ä¼˜åŒ–é‡ç‚¹">ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ï¼ˆé‡ç‚¹ï¼ï¼‰</a>
              <ul>
                <li><a href="#1-å‡å°‘å†…å­˜åˆ†é…">1. <strong>å‡å°‘å†…å­˜åˆ†é…</strong></a></li>
                <li><a href="#2-ä½¿ç”¨å¯¹è±¡æ± -syncpool">2. <strong>ä½¿ç”¨å¯¹è±¡æ±  sync.Pool</strong></a></li>
                <li><a href="#3-é¿å…å†…å­˜é€ƒé€¸">3. <strong>é¿å…å†…å­˜é€ƒé€¸</strong></a></li>
                <li><a href="#4-ä½¿ç”¨æ ˆåˆ†é…">4. <strong>ä½¿ç”¨æ ˆåˆ†é…</strong></a></li>
              </ul>
            </li>
            <li><a href="#äºŒå¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ–">äºŒã€å¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-æ§åˆ¶-goroutine-æ•°é‡">1. <strong>æ§åˆ¶ Goroutine æ•°é‡</strong></a></li>
                <li><a href="#2-å‡å°‘é”ç«äº‰">2. <strong>å‡å°‘é”ç«äº‰</strong></a></li>
                <li><a href="#3-ä½¿ç”¨-atomic-æ“ä½œ">3. <strong>ä½¿ç”¨ atomic æ“ä½œ</strong></a></li>
                <li><a href="#4-åˆ©ç”¨-cpu-ç¼“å­˜è¡Œ">4. <strong>åˆ©ç”¨ CPU ç¼“å­˜è¡Œ</strong></a></li>
              </ul>
            </li>
            <li><a href="#ä¸‰æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ–">ä¸‰ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„">1. <strong>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„</strong></a></li>
                <li><a href="#2-é¢„åˆ†é…å®¹é‡">2. <strong>é¢„åˆ†é…å®¹é‡</strong></a></li>
                <li><a href="#3-ä½¿ç”¨æ›´å¿«çš„ç®—æ³•">3. <strong>ä½¿ç”¨æ›´å¿«çš„ç®—æ³•</strong></a></li>
                <li><a href="#4-åˆ©ç”¨ä½è¿ç®—">4. <strong>åˆ©ç”¨ä½è¿ç®—</strong></a></li>
              </ul>
            </li>
            <li><a href="#å››io-æ€§èƒ½ä¼˜åŒ–">å››ã€I/O æ€§èƒ½ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-æ‰¹é‡æ“ä½œ">1. <strong>æ‰¹é‡æ“ä½œ</strong></a></li>
                <li><a href="#2-ç¼“å†²-io">2. <strong>ç¼“å†² I/O</strong></a></li>
                <li><a href="#3-è¿æ¥å¤ç”¨">3. <strong>è¿æ¥å¤ç”¨</strong></a></li>
                <li><a href="#4-é›¶æ‹·è´æŠ€æœ¯">4. <strong>é›¶æ‹·è´æŠ€æœ¯</strong></a></li>
              </ul>
            </li>
            <li><a href="#äº”ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ–">äº”ã€ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-å†…è”ä¼˜åŒ–">1. <strong>å†…è”ä¼˜åŒ–</strong></a></li>
                <li><a href="#2-é€ƒé€¸åˆ†æä¼˜åŒ–">2. <strong>é€ƒé€¸åˆ†æä¼˜åŒ–</strong></a></li>
                <li><a href="#3-ç¼–è¯‘å™¨æŒ‡ä»¤">3. <strong>ç¼–è¯‘å™¨æŒ‡ä»¤</strong></a></li>
                <li><a href="#4-ä½¿ç”¨-pgoprofile-guided-optimization">4. <strong>ä½¿ç”¨ PGOï¼ˆProfile-Guided Optimizationï¼‰</strong></a></li>
              </ul>
            </li>
            <li><a href="#å…­å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ–">å…­ã€å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-stringsbuilder">1. <strong>strings.Builder</strong></a></li>
                <li><a href="#2-é¿å…-byte-ä¸-string-è½¬æ¢">2. <strong>é¿å… []byte ä¸ string è½¬æ¢</strong></a></li>
                <li><a href="#3-ä½¿ç”¨-bytes-åŒ…ä»£æ›¿-strings-åŒ…">3. <strong>ä½¿ç”¨ bytes åŒ…ä»£æ›¿ strings åŒ…</strong></a></li>
              </ul>
            </li>
            <li><a href="#ä¸ƒç½‘ç»œä¸åè®®ä¼˜åŒ–">ä¸ƒã€ç½‘ç»œä¸åè®®ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-åè®®é€‰æ‹©">1. <strong>åè®®é€‰æ‹©</strong></a></li>
                <li><a href="#2-è¿æ¥å¤ç”¨http2-http3">2. <strong>è¿æ¥å¤ç”¨ï¼ˆHTTP/2, HTTP/3ï¼‰</strong></a></li>
                <li><a href="#3-å‹ç¼©ä¸åºåˆ—åŒ–">3. <strong>å‹ç¼©ä¸åºåˆ—åŒ–</strong></a></li>
              </ul>
            </li>
            <li><a href="#å…«æ•°æ®åº“ä¼˜åŒ–">å…«ã€æ•°æ®åº“ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-sql-ä¼˜åŒ–">1. <strong>SQL ä¼˜åŒ–</strong></a></li>
                <li><a href="#2-ç´¢å¼•ä¼˜åŒ–">2. <strong>ç´¢å¼•ä¼˜åŒ–</strong></a></li>
                <li><a href="#3-è¿æ¥æ± é…ç½®">3. <strong>è¿æ¥æ± é…ç½®</strong></a></li>
              </ul>
            </li>
            <li><a href="#ä¹ç›‘æ§ä¸åˆ†æå·¥å…·">ä¹ã€ç›‘æ§ä¸åˆ†æå·¥å…·</a>
              <ul>
                <li><a href="#1-ä½¿ç”¨-pprof">1. <strong>ä½¿ç”¨ pprof</strong></a></li>
                <li><a href="#2-ä½¿ç”¨-trace">2. <strong>ä½¿ç”¨ trace</strong></a></li>
                <li><a href="#3-ä½¿ç”¨-expvar">3. <strong>ä½¿ç”¨ expvar</strong></a></li>
              </ul>
            </li>
            <li><a href="#åéƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ–">åã€éƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-å®¹å™¨ä¼˜åŒ–">1. <strong>å®¹å™¨ä¼˜åŒ–</strong></a></li>
                <li><a href="#2-æ“ä½œç³»ç»Ÿä¼˜åŒ–">2. <strong>æ“ä½œç³»ç»Ÿä¼˜åŒ–</strong></a></li>
                <li><a href="#3-cpu-äº²å’Œæ€§">3. <strong>CPU äº²å’Œæ€§</strong></a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#-æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§">ğŸ“ˆ <strong>æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§</strong></a>
          <ul>
            <li><a href="#ä¼˜å…ˆçº§-1å½±å“æœ€å¤§çš„ä¼˜åŒ–">ä¼˜å…ˆçº§ 1ï¼šå½±å“æœ€å¤§çš„ä¼˜åŒ–</a></li>
            <li><a href="#ä¼˜å…ˆçº§-2æ˜¾è‘—çš„ä¼˜åŒ–">ä¼˜å…ˆçº§ 2ï¼šæ˜¾è‘—çš„ä¼˜åŒ–</a></li>
            <li><a href="#ä¼˜å…ˆçº§-3å¾®ä¼˜åŒ–">ä¼˜å…ˆçº§ 3ï¼šå¾®ä¼˜åŒ–</a></li>
          </ul>
        </li>
        <li><a href="#-æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™">ğŸ¯ <strong>æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™</strong></a></li>
        <li><a href="#-å®ç”¨æ£€æŸ¥æ¸…å•">ğŸ“š <strong>å®ç”¨æ£€æŸ¥æ¸…å•</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    ç›®å½•
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#-æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ">ğŸ“Š <strong>æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ</strong></a></li>
        <li><a href="#-è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯">ğŸ”§ <strong>è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯</strong></a>
          <ul>
            <li><a href="#ä¸€å†…å­˜ç®¡ç†ä¼˜åŒ–é‡ç‚¹">ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ï¼ˆé‡ç‚¹ï¼ï¼‰</a>
              <ul>
                <li><a href="#1-å‡å°‘å†…å­˜åˆ†é…">1. <strong>å‡å°‘å†…å­˜åˆ†é…</strong></a></li>
                <li><a href="#2-ä½¿ç”¨å¯¹è±¡æ± -syncpool">2. <strong>ä½¿ç”¨å¯¹è±¡æ±  sync.Pool</strong></a></li>
                <li><a href="#3-é¿å…å†…å­˜é€ƒé€¸">3. <strong>é¿å…å†…å­˜é€ƒé€¸</strong></a></li>
                <li><a href="#4-ä½¿ç”¨æ ˆåˆ†é…">4. <strong>ä½¿ç”¨æ ˆåˆ†é…</strong></a></li>
              </ul>
            </li>
            <li><a href="#äºŒå¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ–">äºŒã€å¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-æ§åˆ¶-goroutine-æ•°é‡">1. <strong>æ§åˆ¶ Goroutine æ•°é‡</strong></a></li>
                <li><a href="#2-å‡å°‘é”ç«äº‰">2. <strong>å‡å°‘é”ç«äº‰</strong></a></li>
                <li><a href="#3-ä½¿ç”¨-atomic-æ“ä½œ">3. <strong>ä½¿ç”¨ atomic æ“ä½œ</strong></a></li>
                <li><a href="#4-åˆ©ç”¨-cpu-ç¼“å­˜è¡Œ">4. <strong>åˆ©ç”¨ CPU ç¼“å­˜è¡Œ</strong></a></li>
              </ul>
            </li>
            <li><a href="#ä¸‰æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ–">ä¸‰ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„">1. <strong>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„</strong></a></li>
                <li><a href="#2-é¢„åˆ†é…å®¹é‡">2. <strong>é¢„åˆ†é…å®¹é‡</strong></a></li>
                <li><a href="#3-ä½¿ç”¨æ›´å¿«çš„ç®—æ³•">3. <strong>ä½¿ç”¨æ›´å¿«çš„ç®—æ³•</strong></a></li>
                <li><a href="#4-åˆ©ç”¨ä½è¿ç®—">4. <strong>åˆ©ç”¨ä½è¿ç®—</strong></a></li>
              </ul>
            </li>
            <li><a href="#å››io-æ€§èƒ½ä¼˜åŒ–">å››ã€I/O æ€§èƒ½ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-æ‰¹é‡æ“ä½œ">1. <strong>æ‰¹é‡æ“ä½œ</strong></a></li>
                <li><a href="#2-ç¼“å†²-io">2. <strong>ç¼“å†² I/O</strong></a></li>
                <li><a href="#3-è¿æ¥å¤ç”¨">3. <strong>è¿æ¥å¤ç”¨</strong></a></li>
                <li><a href="#4-é›¶æ‹·è´æŠ€æœ¯">4. <strong>é›¶æ‹·è´æŠ€æœ¯</strong></a></li>
              </ul>
            </li>
            <li><a href="#äº”ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ–">äº”ã€ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-å†…è”ä¼˜åŒ–">1. <strong>å†…è”ä¼˜åŒ–</strong></a></li>
                <li><a href="#2-é€ƒé€¸åˆ†æä¼˜åŒ–">2. <strong>é€ƒé€¸åˆ†æä¼˜åŒ–</strong></a></li>
                <li><a href="#3-ç¼–è¯‘å™¨æŒ‡ä»¤">3. <strong>ç¼–è¯‘å™¨æŒ‡ä»¤</strong></a></li>
                <li><a href="#4-ä½¿ç”¨-pgoprofile-guided-optimization">4. <strong>ä½¿ç”¨ PGOï¼ˆProfile-Guided Optimizationï¼‰</strong></a></li>
              </ul>
            </li>
            <li><a href="#å…­å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ–">å…­ã€å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-stringsbuilder">1. <strong>strings.Builder</strong></a></li>
                <li><a href="#2-é¿å…-byte-ä¸-string-è½¬æ¢">2. <strong>é¿å… []byte ä¸ string è½¬æ¢</strong></a></li>
                <li><a href="#3-ä½¿ç”¨-bytes-åŒ…ä»£æ›¿-strings-åŒ…">3. <strong>ä½¿ç”¨ bytes åŒ…ä»£æ›¿ strings åŒ…</strong></a></li>
              </ul>
            </li>
            <li><a href="#ä¸ƒç½‘ç»œä¸åè®®ä¼˜åŒ–">ä¸ƒã€ç½‘ç»œä¸åè®®ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-åè®®é€‰æ‹©">1. <strong>åè®®é€‰æ‹©</strong></a></li>
                <li><a href="#2-è¿æ¥å¤ç”¨http2-http3">2. <strong>è¿æ¥å¤ç”¨ï¼ˆHTTP/2, HTTP/3ï¼‰</strong></a></li>
                <li><a href="#3-å‹ç¼©ä¸åºåˆ—åŒ–">3. <strong>å‹ç¼©ä¸åºåˆ—åŒ–</strong></a></li>
              </ul>
            </li>
            <li><a href="#å…«æ•°æ®åº“ä¼˜åŒ–">å…«ã€æ•°æ®åº“ä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-sql-ä¼˜åŒ–">1. <strong>SQL ä¼˜åŒ–</strong></a></li>
                <li><a href="#2-ç´¢å¼•ä¼˜åŒ–">2. <strong>ç´¢å¼•ä¼˜åŒ–</strong></a></li>
                <li><a href="#3-è¿æ¥æ± é…ç½®">3. <strong>è¿æ¥æ± é…ç½®</strong></a></li>
              </ul>
            </li>
            <li><a href="#ä¹ç›‘æ§ä¸åˆ†æå·¥å…·">ä¹ã€ç›‘æ§ä¸åˆ†æå·¥å…·</a>
              <ul>
                <li><a href="#1-ä½¿ç”¨-pprof">1. <strong>ä½¿ç”¨ pprof</strong></a></li>
                <li><a href="#2-ä½¿ç”¨-trace">2. <strong>ä½¿ç”¨ trace</strong></a></li>
                <li><a href="#3-ä½¿ç”¨-expvar">3. <strong>ä½¿ç”¨ expvar</strong></a></li>
              </ul>
            </li>
            <li><a href="#åéƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ–">åã€éƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ–</a>
              <ul>
                <li><a href="#1-å®¹å™¨ä¼˜åŒ–">1. <strong>å®¹å™¨ä¼˜åŒ–</strong></a></li>
                <li><a href="#2-æ“ä½œç³»ç»Ÿä¼˜åŒ–">2. <strong>æ“ä½œç³»ç»Ÿä¼˜åŒ–</strong></a></li>
                <li><a href="#3-cpu-äº²å’Œæ€§">3. <strong>CPU äº²å’Œæ€§</strong></a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#-æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§">ğŸ“ˆ <strong>æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§</strong></a>
          <ul>
            <li><a href="#ä¼˜å…ˆçº§-1å½±å“æœ€å¤§çš„ä¼˜åŒ–">ä¼˜å…ˆçº§ 1ï¼šå½±å“æœ€å¤§çš„ä¼˜åŒ–</a></li>
            <li><a href="#ä¼˜å…ˆçº§-2æ˜¾è‘—çš„ä¼˜åŒ–">ä¼˜å…ˆçº§ 2ï¼šæ˜¾è‘—çš„ä¼˜åŒ–</a></li>
            <li><a href="#ä¼˜å…ˆçº§-3å¾®ä¼˜åŒ–">ä¼˜å…ˆçº§ 3ï¼šå¾®ä¼˜åŒ–</a></li>
          </ul>
        </li>
        <li><a href="#-æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™">ğŸ¯ <strong>æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™</strong></a></li>
        <li><a href="#-å®ç”¨æ£€æŸ¥æ¸…å•">ğŸ“š <strong>å®ç”¨æ£€æŸ¥æ¸…å•</strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>


<script>
  (function () {
    'use strict'

    const SCROLL_OFFSET_RATIO = 0.33
    const TOC_SELECTOR = '#TableOfContents'
    const ANCHOR_SELECTOR = '.anchor'
    const TOC_LINK_SELECTOR = 'a[href^="#"]'
    const NESTED_LIST_SELECTOR = 'li ul'
    const ACTIVE_CLASS = 'active'

    function getActiveAnchorId(anchors, offsetRatio) {
      const threshold = window.scrollY + window.innerHeight * offsetRatio
      const tocLinks = [...document.querySelectorAll('#TableOfContents a[href^="#"]')]
      const tocIds = new Set(tocLinks.map(link => link.getAttribute('href').substring(1)))

      for (let i = anchors.length - 1; i >= 0; i--) {
        const top = anchors[i].getBoundingClientRect().top + window.scrollY
        if (top <= threshold && tocIds.has(anchors[i].id)) {
          return anchors[i].id
        }
      }
      return anchors.find(anchor => tocIds.has(anchor.id))?.id || ''
    }

    function updateTOC({ toc, anchors, links, scrollOffset, collapseInactive }) {
      const activeId = getActiveAnchorId(anchors, scrollOffset)
      if (!activeId) return

      links.forEach(link => {
        const isActive = link.getAttribute('href') === `#${activeId}`
        link.classList.toggle(ACTIVE_CLASS, isActive)

        if (collapseInactive) {
          const ul = link.closest('li')?.querySelector('ul')
          if (ul) ul.style.display = isActive ? '' : 'none'
        }
      })

      if (collapseInactive) {
        const activeLink = toc.querySelector(`a[href="#${CSS.escape(activeId)}"]`)
        let el = activeLink
        while (el && el !== toc) {
          if (el.tagName === 'UL') el.style.display = ''
          if (el.tagName === 'LI') el.querySelector('ul')?.style.setProperty('display', '')
          el = el.parentElement
        }
      }
    }

    function initTOC() {
      const toc = document.querySelector(TOC_SELECTOR)
      if (!toc) return

      const collapseInactive = true
      const anchors = [...document.querySelectorAll(ANCHOR_SELECTOR)]
      const links = [...toc.querySelectorAll(TOC_LINK_SELECTOR)]

      if (collapseInactive) {
        toc.querySelectorAll(NESTED_LIST_SELECTOR).forEach(ul => ul.style.display = 'none')
      }

      const config = {
        toc,
        anchors,
        links,
        scrollOffset: SCROLL_OFFSET_RATIO,
        collapseInactive
      }

      window.addEventListener('scroll', () => updateTOC(config), { passive: true })
      window.addEventListener('hashchange', () => updateTOC(config), { passive: true })

      updateTOC(config)
    }

    document.readyState === 'loading'
      ? document.addEventListener('DOMContentLoaded', initTOC)
      : initTOC()
  })()
</script>


            
            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        



        <div class="article-content max-w-prose mb-20">
          
<h2 class="relative group">ğŸ“Š <strong>æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ</strong> 
    <div id="-æ€§èƒ½ä¼˜åŒ–åˆ†ç±»æ€»è§ˆ" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e5%88%86%e7%b1%bb%e6%80%bb%e8%a7%88" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h2>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">text</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="ln"> 1</span><span class="cl">â”Œâ”€ ä»£ç å±‚é¢ä¼˜åŒ–
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">â”‚  â”œâ”€ å†…å­˜ä¼˜åŒ–
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">â”‚  â”œâ”€ å¹¶å‘ä¼˜åŒ–  
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">â”‚  â”œâ”€ ç®—æ³•ä¼˜åŒ–
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">â”‚  â””â”€ ç¼–è¯‘å™¨ä¼˜åŒ–
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">â”‚
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">â”œâ”€ è¿è¡Œæ—¶ä¼˜åŒ–
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">â”‚  â”œâ”€ GC ä¼˜åŒ–
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">â”‚  â”œâ”€ è°ƒåº¦ä¼˜åŒ–
</span></span><span class="line"><span class="ln">10</span><span class="cl">â”‚  â””â”€ å†…å­˜ç®¡ç†
</span></span><span class="line"><span class="ln">11</span><span class="cl">â”‚
</span></span><span class="line"><span class="ln">12</span><span class="cl">â”œâ”€ I/O ä¼˜åŒ–
</span></span><span class="line"><span class="ln">13</span><span class="cl">â”‚  â”œâ”€ ç½‘ç»œä¼˜åŒ–
</span></span><span class="line"><span class="ln">14</span><span class="cl">â”‚  â”œâ”€ æ–‡ä»¶ç³»ç»Ÿä¼˜åŒ–
</span></span><span class="line"><span class="ln">15</span><span class="cl">â”‚  â””â”€ æ•°æ®åº“ä¼˜åŒ–
</span></span><span class="line"><span class="ln">16</span><span class="cl">â”‚
</span></span><span class="line"><span class="ln">17</span><span class="cl">â””â”€ ç³»ç»Ÿå±‚é¢ä¼˜åŒ–
</span></span><span class="line"><span class="ln">18</span><span class="cl">   â”œâ”€ éƒ¨ç½²ä¼˜åŒ–
</span></span><span class="line"><span class="ln">19</span><span class="cl">   â”œâ”€ ç›‘æ§ä¼˜åŒ–
</span></span><span class="line"><span class="ln">20</span><span class="cl">   â””â”€ ç¡¬ä»¶ä¼˜åŒ–</span></span></code></pre></div>
</div>



<h2 class="relative group">ğŸ”§ <strong>è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯</strong> 
    <div id="-è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–æ€è·¯" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#-%e8%af%a6%e7%bb%86%e7%9a%84%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e6%80%9d%e8%b7%af" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h2>

<h3 class="relative group">ä¸€ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ï¼ˆé‡ç‚¹ï¼ï¼‰ 
    <div id="ä¸€å†…å­˜ç®¡ç†ä¼˜åŒ–é‡ç‚¹" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%b8%80%e5%86%85%e5%ad%98%e7%ae%a1%e7%90%86%e4%bc%98%e5%8c%96%e9%87%8d%e7%82%b9" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>å‡å°‘å†…å­˜åˆ†é…</strong> 
    <div id="1-å‡å°‘å†…å­˜åˆ†é…" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e5%87%8f%e5%b0%91%e5%86%85%e5%ad%98%e5%88%86%e9%85%8d" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹åˆ†é…</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">data</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>  <span class="c1">// æ¯æ¬¡å¾ªç¯éƒ½åˆ†é…</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="c1">// ä½¿ç”¨ data...</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1">// âœ… é¢„åˆ†é…æˆ–å¤ç”¨</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="nx">buffer</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="c1">// å¤ç”¨ buffer</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>ä½¿ç”¨å¯¹è±¡æ±  sync.Pool</strong> 
    <div id="2-ä½¿ç”¨å¯¹è±¡æ± -syncpool" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e4%bd%bf%e7%94%a8%e5%af%b9%e8%b1%a1%e6%b1%a0-syncpool" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kd">var</span> <span class="nx">bufferPool</span> <span class="p">=</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">Pool</span><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">    <span class="nx">New</span><span class="p">:</span> <span class="kd">func</span><span class="p">()</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">        <span class="k">return</span> <span class="nx">bytes</span><span class="p">.</span><span class="nf">NewBuffer</span><span class="p">(</span><span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="kd">func</span> <span class="nf">getBuffer</span><span class="p">()</span> <span class="o">*</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">    <span class="k">return</span> <span class="nx">bufferPool</span><span class="p">.</span><span class="nf">Get</span><span class="p">().(</span><span class="o">*</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="kd">func</span> <span class="nf">putBuffer</span><span class="p">(</span><span class="nx">buf</span> <span class="o">*</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="nx">buf</span><span class="p">.</span><span class="nf">Reset</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="nx">bufferPool</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="nx">buf</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>é¿å…å†…å­˜é€ƒé€¸</strong> 
    <div id="3-é¿å…å†…å­˜é€ƒé€¸" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e9%81%bf%e5%85%8d%e5%86%85%e5%ad%98%e9%80%83%e9%80%b8" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// âŒ å¯èƒ½é€ƒé€¸åˆ°å †</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="kd">func</span> <span class="nf">newUser</span><span class="p">()</span> <span class="o">*</span><span class="nx">User</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">    <span class="k">return</span> <span class="o">&amp;</span><span class="nx">User</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;John&#34;</span><span class="p">}</span>  <span class="c1">// é€ƒé€¸åˆ°å †</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="c1">// âœ… å¦‚æœå¯èƒ½ï¼Œè®©è°ƒç”¨æ–¹åˆ†é…</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="kd">func</span> <span class="nf">fillUser</span><span class="p">(</span><span class="nx">u</span> <span class="o">*</span><span class="nx">User</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">8</span><span class="cl">    <span class="nx">u</span><span class="p">.</span><span class="nx">Name</span> <span class="p">=</span> <span class="s">&#34;John&#34;</span>
</span></span><span class="line"><span class="ln">9</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">4. <strong>ä½¿ç”¨æ ˆåˆ†é…</strong> 
    <div id="4-ä½¿ç”¨æ ˆåˆ†é…" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#4-%e4%bd%bf%e7%94%a8%e6%a0%88%e5%88%86%e9%85%8d" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// å°å¯¹è±¡å°½é‡åœ¨æ ˆä¸Šåˆ†é…</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">type</span> <span class="nx">Small</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int32</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="c1">// ç¼–è¯‘å™¨ä¼šä¼˜å…ˆåœ¨æ ˆä¸Šåˆ†é…</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="kd">func</span> <span class="nf">process</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">    <span class="kd">var</span> <span class="nx">s</span> <span class="nx">Small</span>  <span class="c1">// æ ˆåˆ†é…</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h3 class="relative group">äºŒã€å¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ– 
    <div id="äºŒå¹¶å‘ä¸å¹¶è¡Œä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%ba%8c%e5%b9%b6%e5%8f%91%e4%b8%8e%e5%b9%b6%e8%a1%8c%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>æ§åˆ¶ Goroutine æ•°é‡</strong> 
    <div id="1-æ§åˆ¶-goroutine-æ•°é‡" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e6%8e%a7%e5%88%b6-goroutine-%e6%95%b0%e9%87%8f" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ æ— é™åˆ¶åˆ›å»º goroutine</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">task</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">tasks</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="k">go</span> <span class="nf">process</span><span class="p">(</span><span class="nx">task</span><span class="p">)</span>  <span class="c1">// å¯èƒ½åˆ›å»ºå¤ªå¤š goroutine</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="c1">// âœ… ä½¿ç”¨ worker pool</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="kd">type</span> <span class="nx">WorkerPool</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">    <span class="nx">workers</span> <span class="kt">int</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="nx">tasks</span>   <span class="kd">chan</span> <span class="nx">Task</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">wp</span> <span class="o">*</span><span class="nx">WorkerPool</span><span class="p">)</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">wp</span><span class="p">.</span><span class="nx">workers</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">        <span class="k">go</span> <span class="nx">wp</span><span class="p">.</span><span class="nf">worker</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>å‡å°‘é”ç«äº‰</strong> 
    <div id="2-å‡å°‘é”ç«äº‰" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e5%87%8f%e5%b0%91%e9%94%81%e7%ab%9e%e4%ba%89" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ ç²—ç²’åº¦é”</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">var</span> <span class="nx">mu</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kd">var</span> <span class="nx">data</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="kd">func</span> <span class="nf">update</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">value</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="nx">mu</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    <span class="nx">data</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="p">=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">    <span class="nx">mu</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="c1">// âœ… ç»†ç²’åº¦é”æˆ–åˆ†ç‰‡é”</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="kd">type</span> <span class="nx">ShardedMap</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="nx">shards</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">    <span class="nx">locks</span>  <span class="p">[]</span><span class="nx">sync</span><span class="p">.</span><span class="nx">RWMutex</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">
</span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">sm</span> <span class="o">*</span><span class="nx">ShardedMap</span><span class="p">)</span> <span class="nf">getShard</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nf">fnv32</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="nx">sm</span><span class="p">.</span><span class="nx">shards</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>ä½¿ç”¨ atomic æ“ä½œ</strong> 
    <div id="3-ä½¿ç”¨-atomic-æ“ä½œ" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e4%bd%bf%e7%94%a8-atomic-%e6%93%8d%e4%bd%9c" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ ä½¿ç”¨é”ä¿æŠ¤è®¡æ•°å™¨</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">var</span> <span class="nx">count</span> <span class="kt">int</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kd">var</span> <span class="nx">mu</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="kd">func</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="nx">mu</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    <span class="nx">count</span><span class="o">++</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">    <span class="nx">mu</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="c1">// âœ… ä½¿ç”¨ atomic</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="kd">var</span> <span class="nx">count</span> <span class="kt">int64</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="kd">func</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">    <span class="nx">atomic</span><span class="p">.</span><span class="nf">AddInt64</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">count</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">4. <strong>åˆ©ç”¨ CPU ç¼“å­˜è¡Œ</strong> 
    <div id="4-åˆ©ç”¨-cpu-ç¼“å­˜è¡Œ" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#4-%e5%88%a9%e7%94%a8-cpu-%e7%bc%93%e5%ad%98%e8%a1%8c" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ ä¼ªå…±äº«é—®é¢˜</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">type</span> <span class="nx">Data</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">a</span> <span class="kt">int64</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="nx">b</span> <span class="kt">int64</span>  <span class="c1">// å¯èƒ½åœ¨åŒä¸€ç¼“å­˜è¡Œ</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1">// âœ… ç¼“å­˜è¡Œå¯¹é½</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="kd">type</span> <span class="nx">Data</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="nx">a</span> <span class="kt">int64</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="nx">_</span> <span class="p">[</span><span class="mi">56</span><span class="p">]</span><span class="kt">byte</span>  <span class="c1">// å¡«å……ï¼Œç¡®ä¿åœ¨ä¸åŒç¼“å­˜è¡Œ</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">    <span class="nx">b</span> <span class="kt">int64</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h3 class="relative group">ä¸‰ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ– 
    <div id="ä¸‰æ•°æ®ç»“æ„ä¸ç®—æ³•ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%b8%89%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e4%b8%8e%e7%ae%97%e6%b3%95%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„</strong> 
    <div id="1-é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e9%80%89%e6%8b%a9%e5%90%88%e9%80%82%e7%9a%84%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="o">-</span> <span class="nx">æŸ¥æ‰¾é¢‘ç¹</span> <span class="err">â†’</span> <span class="kd">map</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="o">-</span> <span class="nx">æœ‰åºæ•°æ®</span> <span class="err">â†’</span> <span class="nx">slice</span> <span class="o">+</span> <span class="nx">äºŒåˆ†æŸ¥æ‰¾</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="o">-</span> <span class="nx">é¢‘ç¹æ’å…¥åˆ é™¤</span> <span class="err">â†’</span> <span class="nx">linked</span> <span class="nx">list</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="o">-</span> <span class="nx">å”¯ä¸€æ€§æ£€æŸ¥</span> <span class="err">â†’</span> <span class="kd">map</span> <span class="nx">æˆ–</span> <span class="nx">bitset</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>é¢„åˆ†é…å®¹é‡</strong> 
    <div id="2-é¢„åˆ†é…å®¹é‡" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e9%a2%84%e5%88%86%e9%85%8d%e5%ae%b9%e9%87%8f" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ åŠ¨æ€æ‰©å®¹</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">var</span> <span class="nx">users</span> <span class="p">[]</span><span class="nx">User</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="nx">users</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">users</span><span class="p">,</span> <span class="nx">User</span><span class="p">{})</span>  <span class="c1">// å¤šæ¬¡æ‰©å®¹</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1">// âœ… é¢„åˆ†é…</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="nx">users</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="nx">User</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="nx">users</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">users</span><span class="p">,</span> <span class="nx">User</span><span class="p">{})</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>ä½¿ç”¨æ›´å¿«çš„ç®—æ³•</strong> 
    <div id="3-ä½¿ç”¨æ›´å¿«çš„ç®—æ³•" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e4%bd%bf%e7%94%a8%e6%9b%b4%e5%bf%ab%e7%9a%84%e7%ae%97%e6%b3%95" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ O(nÂ²)</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="k">for</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">        <span class="c1">// å¤„ç†</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="c1">// âœ… O(n log n) æˆ– O(n)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="nx">sort</span><span class="p">.</span><span class="nf">Slice</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="k">return</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">&lt;</span> <span class="nx">data</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">})</span></span></span></code></pre></div>
</div>



<h4 class="relative group">4. <strong>åˆ©ç”¨ä½è¿ç®—</strong> 
    <div id="4-åˆ©ç”¨ä½è¿ç®—" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#4-%e5%88%a9%e7%94%a8%e4%bd%8d%e8%bf%90%e7%ae%97" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// âŒ ä¹˜é™¤è¿ç®—</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nx">x</span> <span class="o">:=</span> <span class="nx">a</span> <span class="o">*</span> <span class="mi">2</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nx">y</span> <span class="o">:=</span> <span class="nx">b</span> <span class="o">/</span> <span class="mi">2</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl">
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="c1">// âœ… ä½è¿ç®—</span>
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="nx">x</span> <span class="o">:=</span> <span class="nx">a</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span>  <span class="c1">// ä¹˜ä»¥2</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="nx">y</span> <span class="o">:=</span> <span class="nx">b</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>  <span class="c1">// é™¤ä»¥2</span></span></span></code></pre></div>
</div>



<h3 class="relative group">å››ã€I/O æ€§èƒ½ä¼˜åŒ– 
    <div id="å››io-æ€§èƒ½ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%9b%9bio-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>æ‰¹é‡æ“ä½œ</strong> 
    <div id="1-æ‰¹é‡æ“ä½œ" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e6%89%b9%e9%87%8f%e6%93%8d%e4%bd%9c" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// âŒ å•æ¡æ“ä½œ</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">user</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">users</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">Insert</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="c1">// âœ… æ‰¹é‡æ“ä½œ</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">BulkInsert</span><span class="p">(</span><span class="nx">users</span><span class="p">)</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>ç¼“å†² I/O</strong> 
    <div id="2-ç¼“å†²-io" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e7%bc%93%e5%86%b2-io" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ æ— ç¼“å†²</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="nx">file</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="s">&#34;data.txt&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="nx">buf</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="nx">n</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">file</span><span class="p">.</span><span class="nf">Read</span><span class="p">(</span><span class="nx">buf</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="c1">// âœ… å¸¦ç¼“å†²</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="nx">reader</span> <span class="o">:=</span> <span class="nx">bufio</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">file</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="nx">line</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">reader</span><span class="p">.</span><span class="nf">ReadString</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>è¿æ¥å¤ç”¨</strong> 
    <div id="3-è¿æ¥å¤ç”¨" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e8%bf%9e%e6%8e%a5%e5%a4%8d%e7%94%a8" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ æ¯æ¬¡åˆ›å»ºè¿æ¥</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">func</span> <span class="nf">query</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">db</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">sql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">defer</span> <span class="nx">db</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="c1">// âœ… è¿æ¥æ± </span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="kd">var</span> <span class="nx">db</span> <span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="kd">func</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="nx">db</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">sql</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">SetMaxOpenConns</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">SetMaxIdleConns</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">4. <strong>é›¶æ‹·è´æŠ€æœ¯</strong> 
    <div id="4-é›¶æ‹·è´æŠ€æœ¯" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#4-%e9%9b%b6%e6%8b%b7%e8%b4%9d%e6%8a%80%e6%9c%af" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ æ•°æ®å¤åˆ¶</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">func</span> <span class="nf">process</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">[]</span><span class="kt">byte</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">result</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="nb">copy</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="c1">// å¤„ç†</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="k">return</span> <span class="nx">result</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="c1">// âœ… é¿å…å¤åˆ¶</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="kd">func</span> <span class="nf">processInPlace</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">    <span class="c1">// åŸåœ°å¤„ç†</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">data</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">        <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h3 class="relative group">äº”ã€ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ– 
    <div id="äº”ç¼–è¯‘å™¨ä¸è¿è¡Œæ—¶ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%ba%94%e7%bc%96%e8%af%91%e5%99%a8%e4%b8%8e%e8%bf%90%e8%a1%8c%e6%97%b6%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>å†…è”ä¼˜åŒ–</strong> 
    <div id="1-å†…è”ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e5%86%85%e8%81%94%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å†…è”å°å‡½æ•°</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="c1">// æ ‡è®°ä¸º //go:noinline å¯ä»¥é˜»æ­¢å†…è”</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kd">func</span> <span class="nf">smallFunction</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>  <span class="c1">// å¯èƒ½è¢«å†…è”</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1">//go:noinline</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="kd">func</span> <span class="nf">largeFunction</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="c1">// ä¸ä¼šè¢«å†…è”</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>é€ƒé€¸åˆ†æä¼˜åŒ–</strong> 
    <div id="2-é€ƒé€¸åˆ†æä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e9%80%83%e9%80%b8%e5%88%86%e6%9e%90%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// æŸ¥çœ‹é€ƒé€¸åˆ†æ</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">go</span> <span class="nx">build</span> <span class="o">-</span><span class="nx">gcflags</span><span class="p">=</span><span class="s">&#34;-m -l&#34;</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="c1">// è¾“å‡ºä¼šæ˜¾ç¤ºå“ªäº›å˜é‡é€ƒé€¸åˆ°å †</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>ç¼–è¯‘å™¨æŒ‡ä»¤</strong> 
    <div id="3-ç¼–è¯‘å™¨æŒ‡ä»¤" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e7%bc%96%e8%af%91%e5%99%a8%e6%8c%87%e4%bb%a4" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="nx">arr</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">s</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">arr</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="nx">s</span> <span class="o">+=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>  <span class="c1">// ç¼–è¯‘å™¨å¯èƒ½æ¶ˆé™¤è¾¹ç•Œæ£€æŸ¥</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    <span class="k">return</span> <span class="nx">s</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="c1">// ç¼–è¯‘æ—¶ç¦ç”¨è¾¹ç•Œæ£€æŸ¥</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="c1">// go build -gcflags=&#34;-B&#34;</span></span></span></code></pre></div>
</div>



<h4 class="relative group">4. <strong>ä½¿ç”¨ PGOï¼ˆProfile-Guided Optimizationï¼‰</strong> 
    <div id="4-ä½¿ç”¨-pgoprofile-guided-optimization" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#4-%e4%bd%bf%e7%94%a8-pgoprofile-guided-optimization" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// 1. æ”¶é›†æ€§èƒ½æ•°æ®</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">go</span> <span class="nx">test</span> <span class="o">-</span><span class="nx">cpuprofile</span><span class="p">=</span><span class="nx">cpu</span><span class="p">.</span><span class="nx">prof</span> <span class="o">-</span><span class="nx">bench</span><span class="p">=.</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="c1">// 2. ä½¿ç”¨ PGO ç¼–è¯‘</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="k">go</span> <span class="nx">build</span> <span class="o">-</span><span class="nx">pgo</span><span class="p">=</span><span class="nx">cpu</span><span class="p">.</span><span class="nx">prof</span></span></span></code></pre></div>
</div>



<h3 class="relative group">å…­ã€å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ– 
    <div id="å…­å­—ç¬¦ä¸²ä¸å­—èŠ‚å¤„ç†ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%85%ad%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%8e%e5%ad%97%e8%8a%82%e5%a4%84%e7%90%86%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>strings.Builder</strong> 
    <div id="1-stringsbuilder" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-stringsbuilder" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ å­—ç¬¦ä¸²æ‹¼æ¥</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">var</span> <span class="nx">result</span> <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="nx">result</span> <span class="o">+=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Itoa</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1">// âœ… ä½¿ç”¨ strings.Builder</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="kd">var</span> <span class="nx">builder</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">Builder</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="nx">builder</span><span class="p">.</span><span class="nf">WriteString</span><span class="p">(</span><span class="nx">strconv</span><span class="p">.</span><span class="nf">Itoa</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="nx">result</span> <span class="o">:=</span> <span class="nx">builder</span><span class="p">.</span><span class="nf">String</span><span class="p">()</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>é¿å… []byte ä¸ string è½¬æ¢</strong> 
    <div id="2-é¿å…-byte-ä¸-string-è½¬æ¢" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e9%81%bf%e5%85%8d-byte-%e4%b8%8e-string-%e8%bd%ac%e6%8d%a2" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ é¢‘ç¹è½¬æ¢</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="kd">func</span> <span class="nf">process</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">b</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>  <span class="c1">// åˆ†é…æ–°å†…å­˜</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="c1">// å¤„ç† b</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="nx">s2</span> <span class="o">:=</span> <span class="nb">string</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="c1">// å†æ¬¡åˆ†é…</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="c1">// âœ… ç»Ÿä¸€ä½¿ç”¨ []byte</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="kd">func</span> <span class="nf">process</span><span class="p">(</span><span class="nx">b</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">[]</span><span class="kt">byte</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="c1">// åŸåœ°å¤„ç†</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">    <span class="k">return</span> <span class="nx">b</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>ä½¿ç”¨ bytes åŒ…ä»£æ›¿ strings åŒ…</strong> 
    <div id="3-ä½¿ç”¨-bytes-åŒ…ä»£æ›¿-strings-åŒ…" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e4%bd%bf%e7%94%a8-bytes-%e5%8c%85%e4%bb%a3%e6%9b%bf-strings-%e5%8c%85" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// bytes åŒ…æ“ä½œ []byteï¼Œé¿å…è½¬æ¢</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="c1">// âŒ</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="s">&#34;hello&#34;</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="nx">s</span> <span class="p">=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="c1">// âœ…</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="nx">b</span> <span class="o">:=</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="nx">b</span> <span class="p">=</span> <span class="nx">bytes</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span></span></span></code></pre></div>
</div>



<h3 class="relative group">ä¸ƒã€ç½‘ç»œä¸åè®®ä¼˜åŒ– 
    <div id="ä¸ƒç½‘ç»œä¸åè®®ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%b8%83%e7%bd%91%e7%bb%9c%e4%b8%8e%e5%8d%8f%e8%ae%ae%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>åè®®é€‰æ‹©</strong> 
    <div id="1-åè®®é€‰æ‹©" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e5%8d%8f%e8%ae%ae%e9%80%89%e6%8b%a9" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// æ ¹æ®åœºæ™¯é€‰æ‹©åè®®</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="o">-</span> <span class="nx">REST</span><span class="o">/</span><span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="err">â†’</span> <span class="nx">ç®€å•</span><span class="err">ï¼Œ</span><span class="nx">å…¼å®¹æ€§å¥½</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="o">-</span> <span class="nx">HTTP</span><span class="o">/</span><span class="mi">2</span> <span class="err">â†’</span> <span class="nx">å¤šè·¯å¤ç”¨</span><span class="err">ï¼Œ</span><span class="nx">å¤´éƒ¨å‹ç¼©</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="o">-</span> <span class="nx">gRPC</span> <span class="err">â†’</span> <span class="nx">é«˜æ€§èƒ½</span><span class="err">ï¼Œ</span><span class="nx">protobuf</span> <span class="nx">ç¼–ç </span>
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="o">-</span> <span class="nx">WebSocket</span> <span class="err">â†’</span> <span class="nx">å®æ—¶åŒå‘é€šä¿¡</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>è¿æ¥å¤ç”¨ï¼ˆHTTP/2, HTTP/3ï¼‰</strong> 
    <div id="2-è¿æ¥å¤ç”¨http2-http3" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e8%bf%9e%e6%8e%a5%e5%a4%8d%e7%94%a8http2-http3" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// é…ç½® HTTP å®¢æˆ·ç«¯</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="nx">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">Transport</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Transport</span><span class="p">{</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">        <span class="nx">MaxIdleConns</span><span class="p">:</span>        <span class="mi">100</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="nx">MaxIdleConnsPerHost</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">        <span class="nx">IdleConnTimeout</span><span class="p">:</span>     <span class="mi">90</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">        <span class="c1">// å¯ç”¨ HTTP/2</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">        <span class="nx">ForceAttemptHTTP2</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>å‹ç¼©ä¸åºåˆ—åŒ–</strong> 
    <div id="3-å‹ç¼©ä¸åºåˆ—åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e5%8e%8b%e7%bc%a9%e4%b8%8e%e5%ba%8f%e5%88%97%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// é€‰æ‹©åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="o">-</span> <span class="nx">JSON</span> <span class="err">â†’</span> <span class="nx">é€šç”¨</span><span class="err">ï¼Œ</span><span class="nx">å¯è¯»æ€§å¥½</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="o">-</span> <span class="nx">Protobuf</span> <span class="err">â†’</span> <span class="nx">é«˜æ•ˆ</span><span class="err">ï¼Œ</span><span class="nx">äºŒè¿›åˆ¶</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="o">-</span> <span class="nx">MessagePack</span> <span class="err">â†’</span> <span class="nx">äºŒè¿›åˆ¶</span> <span class="nx">JSON</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="o">-</span> <span class="nx">FlatBuffers</span> <span class="err">â†’</span> <span class="nx">é›¶æ‹·è´åºåˆ—åŒ–</span>
</span></span><span class="line"><span class="ln">6</span><span class="cl">
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="c1">// ä½¿ç”¨å‹ç¼©</span>
</span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="kn">import</span> <span class="s">&#34;compress/gzip&#34;</span></span></span></code></pre></div>
</div>



<h3 class="relative group">å…«ã€æ•°æ®åº“ä¼˜åŒ– 
    <div id="å…«æ•°æ®åº“ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%85%ab%e6%95%b0%e6%8d%ae%e5%ba%93%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>SQL ä¼˜åŒ–</strong> 
    <div id="1-sql-ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-sql-%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// âŒ N+1 æŸ¥è¯¢</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">user</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">users</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="nx">db</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="s">&#34;SELECT * FROM orders WHERE user_id = ?&#34;</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">ID</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="c1">// âœ… JOIN æˆ–æ‰¹é‡æŸ¥è¯¢</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">Query</span><span class="p">(</span><span class="s">`
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="s">    SELECT u.*, o.* 
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="s">    FROM users u 
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="s">    LEFT JOIN orders o ON u.id = o.user_id
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="s">`</span><span class="p">)</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>ç´¢å¼•ä¼˜åŒ–</strong> 
    <div id="2-ç´¢å¼•ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e7%b4%a2%e5%bc%95%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// æ·»åŠ åˆé€‚ç´¢å¼•</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nx">CREATE</span> <span class="nx">INDEX</span> <span class="nx">idx_user_email</span> <span class="nx">ON</span> <span class="nf">users</span><span class="p">(</span><span class="nx">email</span><span class="p">);</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nx">CREATE</span> <span class="nx">INDEX</span> <span class="nx">idx_order_user_date</span> <span class="nx">ON</span> <span class="nf">orders</span><span class="p">(</span><span class="nx">user_id</span><span class="p">,</span> <span class="nx">created_at</span><span class="p">);</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>è¿æ¥æ± é…ç½®</strong> 
    <div id="3-è¿æ¥æ± é…ç½®" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e8%bf%9e%e6%8e%a5%e6%b1%a0%e9%85%8d%e7%bd%ae" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">SetMaxOpenConns</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>     <span class="c1">// æœ€å¤§è¿æ¥æ•°</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">SetMaxIdleConns</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>      <span class="c1">// æœ€å¤§ç©ºé—²è¿æ¥æ•°</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nx">db</span><span class="p">.</span><span class="nf">SetConnMaxLifetime</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Minute</span><span class="p">)</span>  <span class="c1">// è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ</span></span></span></code></pre></div>
</div>



<h3 class="relative group">ä¹ã€ç›‘æ§ä¸åˆ†æå·¥å…· 
    <div id="ä¹ç›‘æ§ä¸åˆ†æå·¥å…·" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%b9%9d%e7%9b%91%e6%8e%a7%e4%b8%8e%e5%88%86%e6%9e%90%e5%b7%a5%e5%85%b7" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>ä½¿ç”¨ pprof</strong> 
    <div id="1-ä½¿ç”¨-pprof" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e4%bd%bf%e7%94%a8-pprof" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="kn">import</span> <span class="nx">_</span> <span class="s">&#34;net/http/pprof&#34;</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;:6060&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="p">}()</span>
</span></span><span class="line"><span class="ln">6</span><span class="cl">
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="c1">// æ”¶é›†æ•°æ®</span>
</span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="k">go</span> <span class="nx">tool</span> <span class="nx">pprof</span> <span class="nx">http</span><span class="p">:</span><span class="c1">//localhost:6060/debug/pprof/profile</span>
</span></span><span class="line"><span class="ln">9</span><span class="cl"><span class="k">go</span> <span class="nx">tool</span> <span class="nx">pprof</span> <span class="nx">http</span><span class="p">:</span><span class="c1">//localhost:6060/debug/pprof/heap</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>ä½¿ç”¨ trace</strong> 
    <div id="2-ä½¿ç”¨-trace" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e4%bd%bf%e7%94%a8-trace" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="kn">import</span> <span class="s">&#34;runtime/trace&#34;</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nx">trace</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="nx">w</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="k">defer</span> <span class="nx">trace</span><span class="p">.</span><span class="nf">Stop</span><span class="p">(</span><span class="nx">w</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="c1">// åˆ†æ</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="k">go</span> <span class="nx">tool</span> <span class="nx">trace</span> <span class="nx">trace</span><span class="p">.</span><span class="nx">out</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>ä½¿ç”¨ expvar</strong> 
    <div id="3-ä½¿ç”¨-expvar" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e4%bd%bf%e7%94%a8-expvar" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">import</span> <span class="s">&#34;expvar&#34;</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="nx">requestCount</span> <span class="p">=</span> <span class="nx">expvar</span><span class="p">.</span><span class="nf">NewInt</span><span class="p">(</span><span class="s">&#34;request_count&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">    <span class="nx">avgLatency</span>   <span class="p">=</span> <span class="nx">expvar</span><span class="p">.</span><span class="nf">NewFloat</span><span class="p">(</span><span class="s">&#34;avg_latency_ms&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="kd">func</span> <span class="nf">handler</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    <span class="nx">start</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="c1">// å¤„ç†è¯·æ±‚</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">    <span class="nx">latency</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Since</span><span class="p">(</span><span class="nx">start</span><span class="p">).</span><span class="nf">Milliseconds</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">    <span class="nx">requestCount</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">    <span class="c1">// æ›´æ–°å¹³å‡å»¶è¿Ÿ...</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



<h3 class="relative group">åã€éƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ– 
    <div id="åéƒ¨ç½²ä¸ç³»ç»Ÿä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%8d%81%e9%83%a8%e7%bd%b2%e4%b8%8e%e7%b3%bb%e7%bb%9f%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>

<h4 class="relative group">1. <strong>å®¹å™¨ä¼˜åŒ–</strong> 
    <div id="1-å®¹å™¨ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e5%ae%b9%e5%99%a8%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">dockerfile</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="c"># å¤šé˜¶æ®µæ„å»º</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="err"></span><span class="k">FROM</span><span class="s"> golang:1.21 AS builder</span><span class="err">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="err"></span><span class="k">WORKDIR</span><span class="s"> /app</span><span class="err">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="err"></span><span class="k">COPY</span> . .<span class="err">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="err"></span><span class="k">RUN</span> <span class="nv">CGO_ENABLED</span><span class="o">=</span><span class="m">0</span> <span class="nv">GOOS</span><span class="o">=</span>linux go build -a -installsuffix cgo -o app .<span class="err">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="err"></span><span class="k">FROM</span><span class="s"> alpine:latest</span><span class="err">
</span></span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="err"></span><span class="k">COPY</span> --from<span class="o">=</span>builder /app/app .<span class="err">
</span></span></span><span class="line"><span class="ln">9</span><span class="cl"><span class="err"></span><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;./app&#34;</span><span class="p">]</span></span></span></code></pre></div>
</div>



<h4 class="relative group">2. <strong>æ“ä½œç³»ç»Ÿä¼˜åŒ–</strong> 
    <div id="2-æ“ä½œç³»ç»Ÿä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">bash</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1"># è°ƒæ•´ç³»ç»Ÿå‚æ•°</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">sysctl -w net.core.somaxconn<span class="o">=</span><span class="m">65535</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">sysctl -w net.ipv4.tcp_tw_reuse<span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl">sysctl -w net.ipv4.ip_local_port_range<span class="o">=</span><span class="s2">&#34;1024 65000&#34;</span></span></span></code></pre></div>
</div>



<h4 class="relative group">3. <strong>CPU äº²å’Œæ€§</strong> 
    <div id="3-cpu-äº²å’Œæ€§" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-cpu-%e4%ba%b2%e5%92%8c%e6%80%a7" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h4>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="kn">import</span> <span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="c1">// è®¾ç½® GOMAXPROCS</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="c1">// ä½¿ç”¨ taskset ç»‘å®š CPU</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="c1">// taskset -c 0-3 ./app</span></span></span></code></pre></div>
</div>



<h2 class="relative group">ğŸ“ˆ <strong>æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§</strong> 
    <div id="-æ€§èƒ½ä¼˜åŒ–ä¼˜å…ˆçº§" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e4%bc%98%e5%85%88%e7%ba%a7" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h2>

<h3 class="relative group">ä¼˜å…ˆçº§ 1ï¼šå½±å“æœ€å¤§çš„ä¼˜åŒ– 
    <div id="ä¼˜å…ˆçº§-1å½±å“æœ€å¤§çš„ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%bc%98%e5%85%88%e7%ba%a7-1%e5%bd%b1%e5%93%8d%e6%9c%80%e5%a4%a7%e7%9a%84%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>
<ol>
<li><strong>ç®—æ³•ä¼˜åŒ–</strong> - æ”¹å˜å¤æ‚åº¦ï¼ˆO(nÂ²) â†’ O(n log n)ï¼‰</li>
<li><strong>å‡å°‘ä¸å¿…è¦çš„æ“ä½œ</strong> - é¿å…é‡å¤è®¡ç®—</li>
<li><strong>æ‰¹é‡å¤„ç†</strong> - å‡å°‘ I/O æ¬¡æ•°</li>
</ol>

<h3 class="relative group">ä¼˜å…ˆçº§ 2ï¼šæ˜¾è‘—çš„ä¼˜åŒ– 
    <div id="ä¼˜å…ˆçº§-2æ˜¾è‘—çš„ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%bc%98%e5%85%88%e7%ba%a7-2%e6%98%be%e8%91%97%e7%9a%84%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>
<ol>
<li><strong>å†…å­˜åˆ†é…ä¼˜åŒ–</strong> - å‡å°‘ GC å‹åŠ›</li>
<li><strong>å¹¶å‘ä¼˜åŒ–</strong> - åˆç†ä½¿ç”¨ goroutine å’Œé”</li>
<li><strong>æ•°æ®ç»“æ„ä¼˜åŒ–</strong> - é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„</li>
</ol>

<h3 class="relative group">ä¼˜å…ˆçº§ 3ï¼šå¾®ä¼˜åŒ– 
    <div id="ä¼˜å…ˆçº§-3å¾®ä¼˜åŒ–" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%bc%98%e5%85%88%e7%ba%a7-3%e5%be%ae%e4%bc%98%e5%8c%96" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h3>
<ol>
<li><strong>ç¼–è¯‘å™¨ä¼˜åŒ–</strong> - å†…è”ã€é€ƒé€¸åˆ†æ</li>
<li><strong>CPU ç¼“å­˜ä¼˜åŒ–</strong> - ç¼“å­˜è¡Œå¯¹é½</li>
<li><strong>æŒ‡ä»¤çº§ä¼˜åŒ–</strong> - ä½è¿ç®—ç­‰</li>
</ol>

<h2 class="relative group">ğŸ¯ <strong>æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™</strong> 
    <div id="-æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#-%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e9%bb%84%e9%87%91%e6%b3%95%e5%88%99" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h2>
<ol>
<li><strong>æµ‹é‡ç¬¬ä¸€</strong> - ä½¿ç”¨ pprof ç­‰å·¥å…·æ‰¾åˆ°ç“¶é¢ˆ</li>
<li><strong>20/80 æ³•åˆ™</strong> - ä¼˜åŒ– 20% çš„ä»£ç è·å¾— 80% çš„æ”¶ç›Š</li>
<li><strong>æ¸è¿›ä¼˜åŒ–</strong> - å…ˆåšç®€å•æœ‰æ•ˆçš„å¤§ä¼˜åŒ–ï¼Œå†åšå¤æ‚çš„å°ä¼˜åŒ–</li>
<li><strong>ä¿æŒå¯è¯»æ€§</strong> - ä¸è¦ä¸ºäº†æ€§èƒ½ç‰ºç‰²ä»£ç å¯ç»´æŠ¤æ€§</li>
<li><strong>è€ƒè™‘ ROI</strong> - è¯„ä¼°ä¼˜åŒ–æŠ•å…¥ä¸æ”¶ç›Šæ¯”</li>
</ol>

<h2 class="relative group">ğŸ“š <strong>å®ç”¨æ£€æŸ¥æ¸…å•</strong> 
    <div id="-å®ç”¨æ£€æŸ¥æ¸…å•" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#-%e5%ae%9e%e7%94%a8%e6%a3%80%e6%9f%a5%e6%b8%85%e5%8d%95" aria-label="é”šç‚¹">#</a>
    </span>        
    
</h2>

<div class="code-block-wrapper">
  <div class="code-header">
    <span class="language-label">
      <span class="language-brackets">&lt;/></span>  
      <span class="language-name">go</span>  
    </span>

    <div class="code-buttons">
      <button class="copy-button">
        <i class="fas fa-copy"></i>
        <span>å¤åˆ¶</span>
      </button>
    </div>
  </div>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="err">â–¡</span> <span class="mf">1.</span> <span class="nx">æ˜¯å¦æœ‰ä¸å¿…è¦çš„å†…å­˜åˆ†é…</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="err">â–¡</span> <span class="mf">2.</span> <span class="nx">æ˜¯å¦å¯ä»¥å¤ç”¨å¯¹è±¡</span><span class="err">ï¼ˆ</span><span class="nx">sync</span><span class="p">.</span><span class="nx">Pool</span><span class="err">ï¼‰ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="err">â–¡</span> <span class="mf">3.</span> <span class="nx">æ˜¯å¦æœ‰é”ç«äº‰</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="err">â–¡</span> <span class="mf">4.</span> <span class="nx">æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„å¹¶å‘æ¨¡å¼</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="err">â–¡</span> <span class="mf">5.</span> <span class="nx">ç®—æ³•å¤æ‚åº¦æ˜¯å¦å¯ä»¥é™ä½</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="err">â–¡</span> <span class="mf">6.</span> <span class="nx">æ˜¯å¦æœ‰é‡å¤è®¡ç®—</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="err">â–¡</span> <span class="mf">7.</span> <span class="nx">I</span><span class="o">/</span><span class="nx">O</span> <span class="nx">æ“ä½œæ˜¯å¦å¯ä»¥æ‰¹é‡å¤„ç†</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="err">â–¡</span> <span class="mf">8.</span> <span class="nx">æ˜¯å¦ä½¿ç”¨äº†ç¼“å†²</span> <span class="nx">I</span><span class="o">/</span><span class="nx">O</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="err">â–¡</span> <span class="mf">9.</span> <span class="nx">æ•°æ®åº“æŸ¥è¯¢æ˜¯å¦æœ‰ç´¢å¼•</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="err">â–¡</span> <span class="mf">10.</span> <span class="nx">æ˜¯å¦å¯ç”¨äº†è¿æ¥æ± </span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="err">â–¡</span> <span class="mf">11.</span> <span class="nx">æ˜¯å¦é¿å…äº†ä¸å¿…è¦çš„</span> <span class="p">[]</span><span class="kt">byte</span><span class="o">/</span><span class="kt">string</span> <span class="nx">è½¬æ¢</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="err">â–¡</span> <span class="mf">12.</span> <span class="nx">æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„åºåˆ—åŒ–æ ¼å¼</span><span class="err">ï¼Ÿ</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="err">â–¡</span> <span class="mf">13.</span> <span class="nx">æ˜¯å¦ç›‘æ§äº†å…³é”®æŒ‡æ ‡</span><span class="err">ï¼Ÿ</span></span></span></code></pre></div>
</div>


<p>è®°ä½ï¼š<strong>è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº</strong>ã€‚åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦é€šè¿‡ profiling ç¡®å®šçœŸæ­£çš„æ€§èƒ½ç“¶é¢ˆï¼Œæœ‰é’ˆå¯¹æ€§çš„è¿›è¡Œä¼˜åŒ–ã€‚</p>

          
          
          
        </div>

        

          

          

          

        

        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/nayun.github.io/js/page.min.407e5b2727c1f241c95d53db24c776bea71bfc18e09511b815d669ad8caca6e9e18a53864ad364b1ccccfa2f2956768d33cfe193bfb64d3406f3b5ece354ba57.js"
          integrity="sha512-QH5bJyfB8kHJXVPbJMd2vqcb/BjglRG4FdZprYyspunhilOGStNksczM&#43;i8pVnaNM8/hk7&#43;2TTQG87Xs41S6Vw=="
          data-oid="views_tech/Coding/golang/æ€§èƒ½ä¼˜åŒ–.md"
          data-oid-likes="likes_tech/Coding/golang/æ€§èƒ½ä¼˜åŒ–.md"></script>
      

    </section>
    <footer class="pt-8 max-w-prose print:hidden">
      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600">
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/nayun.github.io/tech/coding/golang/%E7%B1%BB%E5%9E%8B%E4%B8%8Einterface/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >ç±»å‹ä¸interface</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2026-01-26T11:05:26&#43;08:00">January 26, 2026</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


      
    </footer>
  </article>

        <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a
    href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="è¿”å›é¡¶éƒ¨"
    title="è¿”å›é¡¶éƒ¨">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  <script src="https://unpkg.com/panzoom@9.4.0/dist/panzoom.min.js"></script> 
  

  
  <script src="http://localhost:43997/nayun.github.io/js/custom_mermaid.min.1da0269623e4f164ced2e3b711f6e7a5753c14239113eb8f1d5ceace3238fdd8.js"></script>
  
  <script src="http://localhost:43997/nayun.github.io/js/custom_code-header.min.cef138d0888623df230f0f1706e2d0d92479fba3b322b2d9f5d45ded62edd5c9.js"></script>
  
  
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2026
          nayun
      </p>
    

    
    
      <p class="text-xs text-neutral-500 dark:text-neutral-400">
        
        
        ç”± <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a> å¼ºåŠ›é©±åŠ¨
      </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script> 
  
  <script
    type="text/javascript"
    src="/nayun.github.io/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-index-500"
  data-url="http://localhost:43997/nayun.github.io/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="æœç´¢"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="å…³é—­ (Esc)">
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
