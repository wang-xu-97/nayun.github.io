document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".copy-button").forEach(e=>{if(!e.querySelector(".copy-tooltip")){const t=document.createElement("span");t.className="copy-tooltip",t.textContent="✓ 已复制",e.appendChild(t)}e.addEventListener("click",()=>{const s=e.closest(".code-block-wrapper"),o=s.querySelector("pre code"),n=e.querySelector(".copy-tooltip"),i=e.innerHTML,t=document.createElement("textarea");t.value=o.innerText,document.body.appendChild(t),t.select(),e.classList.add("hide-original"),navigator.clipboard.writeText(t.value).then(()=>{n.style.opacity="1",setTimeout(()=>{n.style.opacity="0",e.classList.remove("hide-original")},2e3)}),document.body.removeChild(t)})})})